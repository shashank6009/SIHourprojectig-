module.exports=[224361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},814747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},688947,(a,b,c)=>{b.exports=a.x("stream",()=>require("stream"))},792509,(a,b,c)=>{b.exports=a.x("url",()=>require("url"))},921517,(a,b,c)=>{b.exports=a.x("http",()=>require("http"))},524836,(a,b,c)=>{b.exports=a.x("https",()=>require("https"))},406461,(a,b,c)=>{b.exports=a.x("zlib",()=>require("zlib"))},254799,(a,b,c)=>{b.exports=a.x("crypto",()=>require("crypto"))},427699,(a,b,c)=>{b.exports=a.x("events",()=>require("events"))},446786,(a,b,c)=>{b.exports=a.x("os",()=>require("os"))},522734,(a,b,c)=>{b.exports=a.x("fs",()=>require("fs"))},591119,a=>{"use strict";a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardHeader",()=>f,"CardTitle",()=>g]);var b=a.i(187924),c=a.i(572131),d=a.i(368114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-lg border border-gray-200 bg-white text-gov-text shadow-sm",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("h3",{ref:e,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("p",{ref:e,className:(0,d.cn)("text-sm text-gray-600",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-6 pt-0",a),...c}));i.displayName="CardContent",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center p-6 pt-0",a),...c})).displayName="CardFooter"},124348,a=>{"use strict";a.s(["Alert",()=>g,"AlertDescription",()=>h]);var b=a.i(187924),c=a.i(572131),d=a.i(400187),e=a.i(368114);let f=(0,d.cva)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),g=c.forwardRef(({className:a,variant:c,...d},g)=>(0,b.jsx)("div",{ref:g,role:"alert",className:(0,e.cn)(f({variant:c}),a),...d}));g.displayName="Alert",c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("h5",{ref:d,className:(0,e.cn)("mb-1 font-medium leading-none tracking-tight",a),...c})).displayName="AlertTitle";let h=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("div",{ref:d,className:(0,e.cn)("text-sm [&_p]:leading-relaxed",a),...c}));h.displayName="AlertDescription"},449719,(a,b,c)=>{b.exports=a.x("assert",()=>require("assert"))},870722,(a,b,c)=>{b.exports=a.x("tty",()=>require("tty"))},398374,a=>{"use strict";a.s(["MLService",()=>c]);var b=a.i(234320);class c{static generateRandomDeadline(){let a=new Date("2025-12-01"),b=Math.floor(31*Math.random()),c=new Date(a);c.setDate(a.getDate()+b);let d=9+Math.floor(8*Math.random()),e=Math.floor(60*Math.random());c.setHours(d,e,0,0);let f=Math.floor(60*Math.random());return c.setSeconds(f),c.toISOString()}static async healthCheck(){try{return(await b.default.get("/health")).data}catch(a){throw console.error("[MLService] Health check failed:",a),Error("ML API is currently unavailable")}}static async getRecommendations(a,c=10){if(!a||!a.student_id)throw Error("Invalid student profile: missing student ID");if(c<1||c>50)throw Error("Invalid topN parameter: must be between 1 and 50");try{console.log("[MLService] Requesting recommendations for:",a.student_id),console.log("[MLService] Request timestamp:",new Date().toISOString());let c={student_id:a.student_id,skills:Array.isArray(a.skills)?a.skills:[],stream:a.stream||"",cgpa:"number"==typeof a.cgpa?a.cgpa:0,rural_urban:a.rural_urban||"",college_tier:a.college_tier?.replace(" ","-")||""};console.log("[MLService] API Payload:",JSON.stringify(c,null,2));let d=["student_id","skills","stream","cgpa","rural_urban","college_tier"].filter(a=>!c[a]||Array.isArray(c[a])&&0===c[a].length);if(d.length>0)throw Error(`Missing required fields: ${d.join(", ")}`);let e=await b.default.post("/recommendations",c);console.log("[MLService] Raw API Response:",JSON.stringify(e.data,null,2)),e.data.recommendations&&(console.log("[MLService] Success Probabilities:",e.data.recommendations.map((a,b)=>({index:b+1,title:a.title,success_prob:a.success_prob}))),console.log("[MLService] Raw API Response:",{total_recommendations:e.data.total_recommendations,first_5_recs:e.data.recommendations.slice(0,5).map((a,b)=>({index:b+1,title:a.title,organization:a.organization_name,success_prob:a.success_prob,internship_id:a.internship_id}))}),console.log("[MLService] Course Data:",e.data.recommendations.map((a,b)=>({index:b+1,title:a.title,courses:a.courses,missing_skills:a.missing_skills,success_prob:a.success_prob}))));let f=(e.data.recommendations||[]).sort((a,b)=>{let c=a.success_prob||0;return(b.success_prob||0)-c}).sort((a,b)=>{let c=a.success_prob||0,d=b.success_prob||0;return c!==d?d-c:(a.internship_id||"").localeCompare(b.internship_id||"")}).map((a,b)=>{let c={internship_id:a.internship_id||"",title:a.title||"",organization_name:a.organization_name||"",domain:a.domain||"",location:a.location||"",duration:a.duration||"",stipend:a.stipend||0,success_prob:a.success_prob||0,projected_success_prob:a.projected_success_prob||a.success_prob||0,applicants_total:a.applicants_total||null,positions_available:a.positions_available||null,selection_ratio:a.selection_ratio||null,demand_pressure:a.demand_pressure||null,missing_skills:a.missing_skills||[],course_suggestions:a.course_suggestions||a.courses||[],courses:a.courses||a.course_suggestions||[],reasons:a.reasons||[],application_deadline:(()=>{let b=this.generateRandomDeadline();return console.log(`[MLService] Generated deadline for ${a.title}:`,b),b})(),success_breakdown:a.success_breakdown||null,interview_meta:a.interview_meta||null,live_counts:a.live_counts||null,alumni_stories:a.alumni_stories||[],rank:b+1,scores:{success_probability:a.success_prob||0},explain_reasons:a.reasons||[],...a};return console.log(`[MLService] Processed Rec ${b+1}:`,{title:c.title,organization:c.organization_name,success_prob:c.success_prob,missing_skills:c.missing_skills?.length||0,course_suggestions:c.course_suggestions?.length||0,courses:c.courses?.length||0,reasons:c.reasons?.length||0,course_suggestions_details:c.course_suggestions,courses_details:c.courses,raw_course_data:{from_api_course_suggestions:a.course_suggestions,from_api_courses:a.courses}}),c});return{student_id:e.data.student_id,total_recommendations:e.data.total_recommendations||f.length,requested_count:f.length,recommendations:f,processing_time:0,model_version:"1.0"}}catch(b){if(console.error("[MLService] Failed to get recommendations:",b),console.error("[MLService] Payload that caused error:",JSON.stringify({student_id:a.student_id,skills:Array.isArray(a.skills)?a.skills:[],stream:a.stream||"",cgpa:"number"==typeof a.cgpa?a.cgpa:0,rural_urban:a.rural_urban||"",college_tier:a.college_tier||""},null,2)),b?.code==="OFFLINE"){let b=this.getCachedRecommendations(a.student_id);if(b)return b;return{student_id:a.student_id,total_recommendations:0,requested_count:0,recommendations:[],processing_time:0,model_version:"offline"}}if(b?.response?.status===422){let a=b?.response?.data?.error||"Invalid data provided to ML service";throw Error(`Data validation failed: ${a}`)}if(b?.response?.status===500)throw Error("ML service is temporarily unavailable. Please try again later.");else if(b?.response?.status===404)throw Error("ML service endpoint not found. Please contact support.");else if(b?.code!=="NETWORK_ERROR"&&b?.response)if(b instanceof Error)throw Error(`ML API Error: ${b.message}`);else throw Error("Failed to get AI recommendations. Please try again.");else throw Error("Network error: Unable to connect to ML service. Please check your internet connection.")}}static transformInternFormToProfile(a,b){let c=[a.technicalSkills||a.skills||"",a.softSkills||"",a.languages||"",a.certifications||"",a.course||a.degree||""].flatMap(a=>this.parseSkills(a)).filter(a=>a.length>0);0===c.length&&(c=["Communication","Problem Solving","Teamwork"]);let d=a.course||a.degree||a.educationDetails?.course||a.educationDetails?.degree||"",e=this.determineStream(d);e||(e="Computer Science");let f=a.cgpa||"";f||"string"!=typeof a.educationDetails||(f=this.extractCgpaFromText(a.educationDetails)),f||"string"!=typeof a.education||(f=this.extractCgpaFromText(a.education));let g=this.parseCgpaToTenScale(f);0===g||isNaN(g),(0===g||isNaN(g))&&(g=7.5);let h=a.preferredLocation||a.university||a.city||"",i=this.determineRuralUrban(h);i||(i="Urban");let j=a.university||a.educationDetails?.university||a.college||"",k=this.determineCollegeTier(j);k||(k="Tier-2");let l={student_id:b,skills:c.slice(0,10),stream:e,cgpa:g,rural_urban:i,college_tier:k,name:a.name||`${a.firstName||""} ${a.lastName||""}`.trim(),email:a.email||"",phone:a.phone,university:a.university||a.educationDetails?.university||"",degree:a.degree||a.educationDetails?.degree||"",course:a.course||a.educationDetails?.course||"",graduation_year:a.graduationYear||a.educationDetails?.graduationYear||"",current_status:a.currentStatus||"Student",work_experience:a.experience||a.workExperience||"0-1 years",languages:this.parseSkills(a.languages),preferred_location:a.preferredLocation||"",preferred_duration:a.preferredDuration||a.duration,preferred_domains:this.parseSkills(a.preferredDomain||a.domains),career_objective:a.careerObjective||a.objective||"",projects:a.projects,certifications:a.certifications,achievements:a.achievements,extracurriculars:a.extracurriculars||a.activities};return console.log("[MLService] All Form Data Keys:",Object.keys(a)),console.log("[MLService] Transform Debug:",{originalFormData:{course:a.course,degree:a.degree,cgpa:a.cgpa,university:a.university,skills:a.skills,technicalSkills:a.technicalSkills,softSkills:a.softSkills,languages:a.languages,preferredLocation:a.preferredLocation,name:a.name,firstName:a.firstName,lastName:a.lastName,email:a.email},transformedProfile:{student_id:l.student_id,skills:l.skills,stream:l.stream,cgpa:l.cgpa,rural_urban:l.rural_urban,college_tier:l.college_tier}}),l}static parseSkills(a){return a?String(a).split(/[\n,;•·\u2022\-]+/).map(a=>a.trim()).filter(a=>a.length>0):[]}static parseCgpaToTenScale(a){if(!a)return 0;let b=String(a).trim(),c=b.match(/^(\d+(?:\.\d+)?)\s*%$/);if(c){let a=parseFloat(c[1]);return isNaN(a)?0:Math.min(10,Math.max(0,a/10))}let d=b.match(/^(\d+(?:\.\d+)?)\s*\/\s*(\d+(?:\.\d+)?)$/);if(d){let a=parseFloat(d[1]),b=parseFloat(d[2]);return isNaN(a)||isNaN(b)||0===b?0:Math.min(10,Math.max(0,a/b*10))}let e=parseFloat(b);return isNaN(e)?0:Math.min(10,Math.max(0,e))}static extractCgpaFromText(a){if(!a)return"";let b=String(a).match(/(?:cgpa|gpa|percentage|marks)[^\d]*(\d+(?:\.\d+)?)(?:\s*\/\s*(\d+))?|((\d+(?:\.\d+)?)\s*%)/i);if(b){if(b[3])return b[3];if(b[1]&&b[2])return`${b[1]}/${b[2]}`;if(b[1])return b[1]}return""}static convertToNumber(a){if("number"==typeof a)return a;if("string"==typeof a){let b=parseFloat(a);return isNaN(b)?0:b}return 0}static determineStream(a){if(!a)return"";let b=a.toLowerCase();if(b.includes("computer")||b.includes("software")||b.includes("it")||b.includes("information technology"))return"Computer Science";if(b.includes("mechanical")||b.includes("mech"))return"Mechanical Engineering";if(b.includes("electrical")||b.includes("electronics")||b.includes("ece")||b.includes("eee"))return"Electrical Engineering";if(b.includes("civil"))return"Civil Engineering";if(b.includes("chemical"))return"Chemical Engineering";else if(b.includes("biotechnology")||b.includes("biotech"))return"Biotechnology";else if(b.includes("management")||b.includes("mba")||b.includes("business"))return"Management";else if(b.includes("commerce")||b.includes("bcom")||b.includes("finance"))return"Commerce";else if(b.includes("arts")||b.includes("ba")||b.includes("literature"))return"Arts";else if(b.includes("science")||b.includes("bsc")||b.includes("physics")||b.includes("chemistry")||b.includes("mathematics"))return"Science";else return""}static determineRuralUrban(a){if(!a)return"";let b=a.toLowerCase();return["mumbai","delhi","bangalore","hyderabad","pune","chennai","kolkata","ahmedabad","surat","jaipur","lucknow","kanpur","nagpur","indore","bhopal","visakhapatnam","patna","vadodara","ghaziabad","ludhiana","agra","nashik","faridabad","meerut","rajkot","kalyan","vasai","varanasi","srinagar","aurangabad","dhanbad","amritsar","navi mumbai","allahabad","ranchi","howrah","coimbatore","jabalpur","gwalior","vijayawada","jodhpur","madurai","raipur","kota","guwahati","chandigarh","solapur","hubli","tiruchirappalli","bareilly","mysore","tiruppur","gurgaon","aligarh","jalandhar","bhubaneswar","salem","mira","bhiwandi","saharanpur","gorakhpur","bikaner","amravati","noida","jamshedpur","bhilai","cuttack","firozabad","kochi","nellore","bhavnagar","dehradun","durgapur","asansol","rourkela","nanded","kolhapur","ajmer","akola","gulbarga","jamnagar","ujjain","loni","siliguri","jhansi","ulhasnagar","nellore","jammu","sangli miraj kupwad","mangalore","erode","belgaum","ambattur","tirunelveli","malegaon","gaya","jalgaon","udaipur","maheshtala","davanagere","kozhikode","kurnool","rajpur sonarpur","rajahmundry","bokaro","south dumdum","bellary","patiala","gopalpur","agartala","bhagalpur","muzaffarnagar","bhatpara","panihati","latur","dhule","rohtak","korba","bhilwara","berhampur","muzaffarpur","ahmednagar","mathura","kollam","avadi","kadapa","kamarhati","sambalpur","bilaspur","shahjahanpur","satara","bijapur","rampur","shivamogga","chandrapur","junagadh","thrissur","alwar","bardhaman","kulti","kakinada","nizamabad","parbhani","tumkur","khammam","ozhukarai","bihar sharif","panipat","darbhanga","bally","aizawl","dewas","ichalkaranji"].some(a=>b.includes(a))||b.includes("city")||b.includes("metro")||b.includes("urban")?"Urban":"Rural"}static determineCollegeTier(a){if(!a)return"";let b=a.toLowerCase();return["iit","iiit","iim","iisc","nit","bits","vit","manipal","srm","amity","lovely professional","thapar","delhi technological","indian institute","national institute","birla institute","international institute","anna university","jadavpur university","university of delhi","jawaharlal nehru university","banaras hindu university","aligarh muslim university","jamia millia islamia","indian statistical institute"].some(a=>b.includes(a))?"Tier-1":["state university","central university","deemed university","engineering college","technology institute","technical university","government college","autonomous college"].some(a=>b.includes(a))?"Tier-2":"Tier-3"}static async storeRecommendations(a,b){try{({...b,timestamp:Date.now(),cached:!0})}catch(a){console.error("[MLService] Failed to cache recommendations:",a)}}static getCachedRecommendations(a){return null}static clearCachedRecommendations(a){}static async getSuccessProbability(a,c){try{let d=await b.default.post("/success-probability",{student_profile:a,internship_id:c});return this.convertToNumber(d.data.success_probability)}catch(a){return console.error("[MLService] Failed to get success probability:",a),0}}}},742737,a=>{"use strict";a.s(["default",()=>k]);var b=a.i(187924),c=a.i(572131),d=a.i(591119),e=a.i(699570),f=a.i(124348),g=a.i(398374),h=a.i(816201),i=a.i(292e3),j=a.i(669520);function k(){let[a,k]=(0,c.useState)(null),[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)(null),r=async()=>{o(!0),q(null);try{let a=await g.MLService.healthCheck();k(a)}catch(a){q(a instanceof Error?a.message:"Health check failed")}finally{o(!1)}},s=async()=>{o(!0),q(null);try{let a=await g.MLService.getRecommendations({student_id:"test_user_123",skills:["Python","JavaScript","React","Node.js","Machine Learning","Data Analysis"],stream:"Computer Science",cgpa:8.5,rural_urban:"Urban",college_tier:"Tier-2",name:"Test Student",email:"test@example.com",university:"Test University",degree:"Computer Science",course:"B.Tech",graduation_year:"2025",current_status:"Student",work_experience:"0-1 years",languages:["English","Hindi"],preferred_location:"Delhi",preferred_duration:"3 months",preferred_domains:["Software Development","Data Science"],career_objective:"To work in a challenging environment that allows me to grow professionally"},5);m(a)}catch(a){q(a instanceof Error?a.message:"Recommendations test failed")}finally{o(!1)}};return(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto px-4",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gov-navy mb-8",children:"ML API Integration Test"}),p&&(0,b.jsxs)(f.Alert,{variant:"destructive",className:"mb-6",children:[(0,b.jsx)(i.AlertCircle,{className:"h-4 w-4"}),(0,b.jsx)(f.AlertDescription,{children:p})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsxs)(d.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(h.CheckCircle,{className:"w-5 h-5"}),"Health Check"]})}),(0,b.jsxs)(d.CardContent,{children:[(0,b.jsx)(e.Button,{onClick:r,disabled:n,className:"w-full mb-4 bg-gov-saffron hover:bg-gov-saffron/90",children:n?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j.RefreshCw,{className:"w-4 h-4 mr-2 animate-spin"}),"Testing..."]}):"Test Health Check"}),a&&(0,b.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,b.jsx)("h3",{className:"font-semibold text-green-800 mb-2",children:"API Status"}),(0,b.jsx)("pre",{className:"text-sm text-green-700 whitespace-pre-wrap",children:JSON.stringify(a,null,2)})]})]})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsxs)(d.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(j.RefreshCw,{className:"w-5 h-5"}),"Recommendations Test"]})}),(0,b.jsxs)(d.CardContent,{children:[(0,b.jsx)(e.Button,{onClick:s,disabled:n,className:"w-full mb-4 bg-blue-600 hover:bg-blue-700",children:n?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j.RefreshCw,{className:"w-4 h-4 mr-2 animate-spin"}),"Testing..."]}):"Test Recommendations"}),l&&(0,b.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg max-h-96 overflow-y-auto",children:[(0,b.jsxs)("h3",{className:"font-semibold text-blue-800 mb-2",children:["Recommendations (",l.total_recommendations||0,")"]}),(0,b.jsx)("div",{className:"space-y-2",children:l.recommendations?.slice(0,3).map((a,c)=>(0,b.jsxs)("div",{className:"bg-white p-3 rounded border",children:[(0,b.jsx)("div",{className:"font-medium",children:a.title}),(0,b.jsx)("div",{className:"text-sm text-gray-600",children:a.organization_name}),(0,b.jsxs)("div",{className:"text-sm text-blue-600",children:["Success: ",Math.round(a.scores?.success_probability*100),"%"]})]},c))})]})]})]})]}),(0,b.jsxs)(d.Card,{className:"mt-6",children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsx)(d.CardTitle,{children:"API Configuration"})}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("div",{className:"bg-gray-100 p-4 rounded-lg",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"Base URL:"})," https://web-production-c72b1.up.railway.app"]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"Health Endpoint:"})," /health"]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"Recommendations Endpoint:"})," /recommendations"]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"Timeout:"})," 10 seconds"]})]})})})]})]})})}}];

//# sourceMappingURL=%5Broot-of-the-server%5D__4a8bf9b6._.js.map