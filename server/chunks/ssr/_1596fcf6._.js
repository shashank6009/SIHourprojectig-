module.exports=[290010,a=>{"use strict";async function b(a,c={}){let{method:d="GET",headers:e={},body:f}=c,g={method:d,headers:{"Content-Type":"application/json",...e}};f&&"GET"!==d&&(g.body=JSON.stringify(f));let h=await fetch(a,g);if(!h.ok)throw Error(`HTTP ${h.status}: ${h.statusText}`);return h.json()}a.s(["http",()=>c]);let c={get:(a,c)=>b(a,{method:"GET",headers:c}),post:(a,c,d)=>b(a,{method:"POST",headers:d,body:c}),put:(a,c,d)=>b(a,{method:"PUT",headers:d,body:c}),delete:(a,c)=>b(a,{method:"DELETE",headers:c})}},284505,a=>{"use strict";a.s(["Download",()=>b],284505);let b=(0,a.i(883706).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},808406,a=>{"use strict";a.s(["Sparkles",()=>b],808406);let b=(0,a.i(883706).default)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]])},93518,a=>{"use strict";a.s(["Award",()=>b],93518);let b=(0,a.i(883706).default)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},469769,a=>{"use strict";a.s(["GraduationCap",()=>b],469769);let b=(0,a.i(883706).default)("graduation-cap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]])},546842,a=>{"use strict";a.s(["User",()=>b],546842);let b=(0,a.i(883706).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},941961,a=>{"use strict";a.s(["Briefcase",()=>b],941961);let b=(0,a.i(883706).default)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]])},732860,a=>{"use strict";a.s(["ArrowRight",()=>b],732860);let b=(0,a.i(883706).default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},683882,a=>{"use strict";a.s(["default",()=>e]);var b=a.i(187924),c=a.i(572131),d=a.i(290010);function e({versionId:a,isMentorMode:e=!1}){let[f,g]=(0,c.useState)([]),[h,i]=(0,c.useState)(!0),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(e?"Mentor":""),[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)();(0,c.useEffect)(()=>{r()},[a]);let r=async()=>{try{let b=await d.http.get(`/api/feedback/comment?resumeVersionId=${a}`);g(b.data.comments||[])}catch(a){console.error("Failed to fetch comments:",a)}finally{i(!1)}},s=async()=>{if(j.trim()&&l.trim())try{await d.http.post("/api/feedback/comment",{resumeVersionId:a,blockId:n||void 0,lineRef:p,author:l,text:j}),k(""),o(""),q(void 0),r()}catch(a){console.error("Failed to add comment:",a)}},t=async(a,b)=>{try{await d.http.patch("/api/feedback/comment",{id:a,resolved:b}),r()}catch(a){console.error("Failed to update comment:",a)}},u=f.reduce((a,b)=>{let c=b.blockId||"general";return a[c]||(a[c]=[]),a[c].push(b),a},{});return h?(0,b.jsx)("div",{className:"w-80 bg-gray-50 p-4 border-l",children:(0,b.jsxs)("div",{className:"animate-pulse",children:[(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded"})]})}):(0,b.jsxs)("div",{className:"w-80 bg-gray-50 p-4 border-l max-h-screen overflow-y-auto",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Comments & Feedback"}),(0,b.jsxs)("div",{className:"mb-6 p-4 bg-white rounded-lg border",children:[(0,b.jsx)("h4",{className:"font-medium mb-3",children:"Add Comment"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Author"}),(0,b.jsx)("input",{type:"text",value:l,onChange:a=>m(a.target.value),placeholder:"Your name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Block ID (optional)"}),(0,b.jsx)("input",{type:"text",value:n,onChange:a=>o(a.target.value),placeholder:"block-1",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Line Reference (optional)"}),(0,b.jsx)("input",{type:"number",value:p||"",onChange:a=>q(a.target.value?parseInt(a.target.value):void 0),placeholder:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Comment"}),(0,b.jsx)("textarea",{value:j,onChange:a=>k(a.target.value),placeholder:"Add your feedback...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,b.jsx)("button",{onClick:s,disabled:!j.trim()||!l.trim(),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add Comment"})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[Object.entries(u).map(([a,c])=>(0,b.jsxs)("div",{className:"bg-white rounded-lg border p-3",children:[(0,b.jsx)("h4",{className:"font-medium text-sm text-gray-600 mb-2",children:"general"===a?"General Comments":`Block: ${a}`}),(0,b.jsx)("div",{className:"space-y-3",children:c.map(a=>(0,b.jsxs)("div",{className:`p-3 rounded-md border-l-4 ${a.resolved?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"}`,children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,b.jsxs)("div",{className:"text-sm",children:[(0,b.jsx)("span",{className:"font-medium text-gray-800",children:a.author}),(0,b.jsx)("span",{className:"text-gray-500 ml-2",children:new Date(a.createdAt).toLocaleDateString()}),a.lineRef&&(0,b.jsxs)("span",{className:"text-gray-500 ml-2",children:["Line ",a.lineRef]})]}),(0,b.jsx)("button",{onClick:()=>t(a.id,!a.resolved),className:`text-xs px-2 py-1 rounded ${a.resolved?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:a.resolved?"Resolved":"Mark Resolved"})]}),(0,b.jsx)("p",{className:"text-sm text-gray-700",children:a.text})]},a.id))})]},a)),0===f.length&&(0,b.jsxs)("div",{className:"text-center text-gray-500 py-8",children:[(0,b.jsx)("p",{children:"No comments yet."}),(0,b.jsx)("p",{className:"text-sm",children:"Add the first comment above."})]})]})]})}},286674,a=>{a.v(b=>Promise.all(["server/chunks/ssr/[externals]_stream_5e8b4b91._.js","server/chunks/ssr/node_modules_papaparse_papaparse_82baccab.js"].map(b=>a.l(b))).then(()=>b(885231)))}];

//# sourceMappingURL=_1596fcf6._.js.map