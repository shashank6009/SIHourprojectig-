{"version":3,"sources":["turbopack:///[project]/src/lib/internship.ts","turbopack:///[project]/src/components/internship/WizardNav.tsx","turbopack:///[project]/src/app/[locale]/internship/resume/page.tsx","turbopack:///[project]/node_modules/lucide-react/src/icons/file-up.ts"],"sourcesContent":["export const steps = [\n  { key: \"basic\", label: \"Basic Info\", href: \"/internship/basic-info\" },\n  // Resume upload is handled elsewhere; removed from the wizard\n  { key: \"skills\", label: \"Skills & Interests\", href: \"/internship/skills\" },\n  { key: \"prefs\", label: \"Preferences\", href: \"/internship/preferences\" },\n  { key: \"fairness\", label: \"Fairness & Accessibility\", href: \"/internship/fairness\" },\n  { key: \"consent\", label: \"Consent\", href: \"/internship/consent\" },\n];\n\nexport function getStepIndex(pathname: string): number {\n  const index = steps.findIndex((s) => pathname.startsWith(s.href));\n  return index >= 0 ? index : 0;\n}\n\nexport type WizardData = {\n  fullName?: string;\n  verifiedId?: string;\n  college?: string;\n  year?: string;\n  degree?: string;\n  cgpa?: string; // keep as string; normalized later for ML\n  // Optional: artifacts from resume parsing (populated by the other uploader)\n  resumeUrl?: string;\n  extractedEducation?: string[];\n  extractedSkills?: string[];\n  extractedExperience?: string[];\n  skills?: string[];\n  preferredDomain?: string;\n  careerKeywords?: string[];\n  location?: \"Remote\" | \"Hybrid\" | \"Onsite\";\n  duration?: \"1\" | \"3\" | \"6\";\n  workload?: \"Part-time\" | \"Full-time\";\n  background?: \"Urban\" | \"Rural\" | \"Tier-1\" | \"Tier-2\" | \"Tier-3\";\n  language?: string;\n  notify?: \"WhatsApp\" | \"Email\" | \"SMS\";\n  consent?: boolean;\n};\n\nconst STORAGE_KEY = \"pmis-internship-wizard\";\n\nexport function loadWizard(): WizardData {\n  if (typeof window === \"undefined\") return {};\n  try {\n    const raw = window.localStorage.getItem(STORAGE_KEY);\n    const base = raw ? (JSON.parse(raw) as WizardData) : {};\n\n    // Merge in values extracted from the uploaded resume (if present)\n    // without overriding anything the user already typed in the wizard.\n    try {\n      const sraw = window.sessionStorage.getItem(\"intern_form_data\");\n      if (sraw) {\n        const ext = JSON.parse(sraw) as Record<string, unknown>;\n        const merged: WizardData = { ...base };\n        if (!merged.fullName && ext.name) merged.fullName = ext.name;\n        if (!merged.college && ext.university) merged.college = ext.university;\n        if (!merged.degree && ext.degree) merged.degree = ext.degree;\n        if (!merged.cgpa && ext.cgpa) merged.cgpa = String(ext.cgpa);\n        if ((!merged.skills || merged.skills.length === 0) && ext.technicalSkills) {\n          merged.skills = String(ext.technicalSkills)\n            .split(/[,\\n;]+/)\n            .map((s) => s.trim())\n            .filter(Boolean)\n            .slice(0, 5);\n        }\n        if (!merged.preferredDomain && ext.preferredDomain) merged.preferredDomain = ext.preferredDomain;\n        if (!merged.location && ext.preferredLocation) merged.location = ext.preferredLocation;\n        return merged;\n      }\n    } catch {}\n\n    return base;\n  } catch {\n    return {};\n  }\n}\n\nexport function saveWizard(data: Partial<WizardData>) {\n  if (typeof window === \"undefined\") return;\n  const current = loadWizard();\n  const next = { ...current, ...data };\n  window.localStorage.setItem(STORAGE_KEY, JSON.stringify(next));\n\n  // Mirror essential fields to sessionStorage so ML/recommendations can rebuild profile\n  try {\n    const internForm = {\n      name: next.fullName || \"\",\n      university: next.college || \"\",\n      degree: next.degree || \"\",\n      cgpa: next.cgpa || \"\",\n      technicalSkills: (next.skills || []).join(\", \"),\n      preferredDomain: next.preferredDomain || \"\",\n      preferredLocation: next.location || \"\",\n    } as Record<string, unknown>;\n    window.sessionStorage.setItem(\"intern_form_data\", JSON.stringify(internForm));\n  } catch {}\n}\n\nexport function clearWizard() {\n  if (typeof window === \"undefined\") return;\n  window.localStorage.removeItem(STORAGE_KEY);\n}\n\n\n","\"use client\";\n\nimport { useRouter } from \"next/navigation\";\nimport { steps } from \"@/lib/internship\";\n\nexport function WizardNav({ currentIndex }: { currentIndex: number }) {\n  const router = useRouter();\n  const go = (delta: number) => {\n    const target = currentIndex + delta;\n    if (target >= 0 && target < steps.length) router.push(steps[target].href);\n  };\n  return (\n    <div className=\"flex items-center justify-between mt-8\">\n      <button\n        className=\"px-4 py-2 rounded bg-gray-200 hover:bg-gray-300 text-gray-800 disabled:opacity-50\"\n        onClick={() => go(-1)}\n        disabled={currentIndex === 0}\n      >\n        Back\n      </button>\n      <button\n        className=\"px-4 py-2 rounded bg-gov-blue hover:bg-gov-blueDark text-white\"\n        onClick={() => go(1)}\n      >\n        Next\n      </button>\n    </div>\n  );\n}\n\n\n","\"use client\";\n\nimport { useEffect } from \"react\";\nimport { loadWizard } from \"@/lib/internship\";\nimport { FileUp } from \"lucide-react\";\nimport { WizardNav } from \"@/components/internship/WizardNav\";\n\nexport default function ResumeStep() {\n  useEffect(() => {\n    // Nothing to do; kept for backward compatibility.\n    loadWizard();\n  }, []);\n\n  const currentIndex = 1;\n\n  return (\n    <div className=\"max-w-2xl mx-auto\">\n      <h1 className=\"text-2xl font-bold text-gov-text mb-1 flex items-center gap-2\">\n        <FileUp className=\"w-6 h-6 text-gov-blue\" /> Resume Upload\n      </h1>\n      <p className=\"text-gray-600 mb-6\">Resume upload is handled in the Intern section already. We will continue to prefill your details in the wizard based on the parsed resume.</p>\n\n      <WizardNav currentIndex={currentIndex} />\n    </div>\n  );\n}\n\n\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z', key: '1rqfz7' }],\n  ['path', { d: 'M14 2v4a2 2 0 0 0 2 2h4', key: 'tnqrlb' }],\n  ['path', { d: 'M12 12v6', key: '3ahymv' }],\n  ['path', { d: 'm15 15-3-3-3 3', key: '15xj92' }],\n];\n\n/**\n * @component @name FileUp\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUgMkg2YTIgMiAwIDAgMC0yIDJ2MTZhMiAyIDAgMCAwIDIgMmgxMmEyIDIgMCAwIDAgMi0yVjdaIiAvPgogIDxwYXRoIGQ9Ik0xNCAydjRhMiAyIDAgMCAwIDIgMmg0IiAvPgogIDxwYXRoIGQ9Ik0xMiAxMnY2IiAvPgogIDxwYXRoIGQ9Im0xNSAxNS0zLTMtMyAzIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/file-up\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst FileUp = createLucideIcon('file-up', __iconNode);\n\nexport default FileUp;\n"],"names":[],"mappings":"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","ignoreList":[3]}