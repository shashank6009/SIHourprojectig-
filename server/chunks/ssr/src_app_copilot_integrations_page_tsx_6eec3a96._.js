module.exports=[886225,a=>{"use strict";a.s(["default",()=>bq],886225);var b,c=a.i(187924),d=a.i(572131),e=a.i(290010),f={value:()=>{}};function g(){for(var a,b=0,c=arguments.length,d={};b<c;++b){if(!(a=arguments[b]+"")||a in d||/[\s.]/.test(a))throw Error("illegal type: "+a);d[a]=[]}return new h(d)}function h(a){this._=a}function i(a,b,c){for(var d=0,e=a.length;d<e;++d)if(a[d].name===b){a[d]=f,a=a.slice(0,d).concat(a.slice(d+1));break}return null!=c&&a.push({name:b,value:c}),a}function j(){}function k(a){return null==a?j:function(){return this.querySelector(a)}}function l(){return[]}function m(a){return null==a?l:function(){return this.querySelectorAll(a)}}function n(a){return function(){return this.matches(a)}}function o(a){return function(b){return b.matches(a)}}h.prototype=g.prototype={constructor:h,on:function(a,b){var c,d=this._,e=(a+"").trim().split(/^|\s+/).map(function(a){var b="",c=a.indexOf(".");if(c>=0&&(b=a.slice(c+1),a=a.slice(0,c)),a&&!d.hasOwnProperty(a))throw Error("unknown type: "+a);return{type:a,name:b}}),f=-1,g=e.length;if(arguments.length<2){for(;++f<g;)if((c=(a=e[f]).type)&&(c=function(a,b){for(var c,d=0,e=a.length;d<e;++d)if((c=a[d]).name===b)return c.value}(d[c],a.name)))return c;return}if(null!=b&&"function"!=typeof b)throw Error("invalid callback: "+b);for(;++f<g;)if(c=(a=e[f]).type)d[c]=i(d[c],a.name,b);else if(null==b)for(c in d)d[c]=i(d[c],a.name,null);return this},copy:function(){var a={},b=this._;for(var c in b)a[c]=b[c].slice();return new h(a)},call:function(a,b){if((c=arguments.length-2)>0)for(var c,d,e=Array(c),f=0;f<c;++f)e[f]=arguments[f+2];if(!this._.hasOwnProperty(a))throw Error("unknown type: "+a);for(d=this._[a],f=0,c=d.length;f<c;++f)d[f].value.apply(b,e)},apply:function(a,b,c){if(!this._.hasOwnProperty(a))throw Error("unknown type: "+a);for(var d=this._[a],e=0,f=d.length;e<f;++e)d[e].value.apply(b,c)}};var p=Array.prototype.find;function q(){return this.firstElementChild}var r=Array.prototype.filter;function s(){return Array.from(this.children)}function t(a){return Array(a.length)}function u(a,b){this.ownerDocument=a.ownerDocument,this.namespaceURI=a.namespaceURI,this._next=null,this._parent=a,this.__data__=b}function v(a,b,c,d,e,f){for(var g,h=0,i=b.length,j=f.length;h<j;++h)(g=b[h])?(g.__data__=f[h],d[h]=g):c[h]=new u(a,f[h]);for(;h<i;++h)(g=b[h])&&(e[h]=g)}function w(a,b,c,d,e,f,g){var h,i,j,k=new Map,l=b.length,m=f.length,n=Array(l);for(h=0;h<l;++h)(i=b[h])&&(n[h]=j=g.call(i,i.__data__,h,b)+"",k.has(j)?e[h]=i:k.set(j,i));for(h=0;h<m;++h)j=g.call(a,f[h],h,f)+"",(i=k.get(j))?(d[h]=i,i.__data__=f[h],k.delete(j)):c[h]=new u(a,f[h]);for(h=0;h<l;++h)(i=b[h])&&k.get(n[h])===i&&(e[h]=i)}function x(a){return a.__data__}function y(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}u.prototype={constructor:u,appendChild:function(a){return this._parent.insertBefore(a,this._next)},insertBefore:function(a,b){return this._parent.insertBefore(a,b)},querySelector:function(a){return this._parent.querySelector(a)},querySelectorAll:function(a){return this._parent.querySelectorAll(a)}};var z="http://www.w3.org/1999/xhtml";let A={svg:"http://www.w3.org/2000/svg",xhtml:z,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function B(a){var b=a+="",c=b.indexOf(":");return c>=0&&"xmlns"!==(b=a.slice(0,c))&&(a=a.slice(c+1)),A.hasOwnProperty(b)?{space:A[b],local:a}:a}function C(a){return a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView}function D(a,b){return a.style.getPropertyValue(b)||C(a).getComputedStyle(a,null).getPropertyValue(b)}function E(a){return a.trim().split(/^|\s+/)}function F(a){return a.classList||new G(a)}function G(a){this._node=a,this._names=E(a.getAttribute("class")||"")}function H(a,b){for(var c=F(a),d=-1,e=b.length;++d<e;)c.add(b[d])}function I(a,b){for(var c=F(a),d=-1,e=b.length;++d<e;)c.remove(b[d])}function J(){this.textContent=""}function K(){this.innerHTML=""}function L(){this.nextSibling&&this.parentNode.appendChild(this)}function M(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function N(a){var b=B(a);return(b.local?function(a){return function(){return this.ownerDocument.createElementNS(a.space,a.local)}}:function(a){return function(){var b=this.ownerDocument,c=this.namespaceURI;return c===z&&b.documentElement.namespaceURI===z?b.createElement(a):b.createElementNS(c,a)}})(b)}function O(){return null}function P(){var a=this.parentNode;a&&a.removeChild(this)}function Q(){var a=this.cloneNode(!1),b=this.parentNode;return b?b.insertBefore(a,this.nextSibling):a}function R(){var a=this.cloneNode(!0),b=this.parentNode;return b?b.insertBefore(a,this.nextSibling):a}function S(a){return function(){var b=this.__on;if(b){for(var c,d=0,e=-1,f=b.length;d<f;++d)(c=b[d],a.type&&c.type!==a.type||c.name!==a.name)?b[++e]=c:this.removeEventListener(c.type,c.listener,c.options);++e?b.length=e:delete this.__on}}}function T(a,b,c){return function(){var d,e=this.__on,f=function(a){b.call(this,a,this.__data__)};if(e){for(var g=0,h=e.length;g<h;++g)if((d=e[g]).type===a.type&&d.name===a.name){this.removeEventListener(d.type,d.listener,d.options),this.addEventListener(d.type,d.listener=f,d.options=c),d.value=b;return}}this.addEventListener(a.type,f,c),d={type:a.type,name:a.name,value:b,listener:f,options:c},e?e.push(d):this.__on=[d]}}function U(a,b,c){var d=C(a),e=d.CustomEvent;"function"==typeof e?e=new e(b,c):(e=d.document.createEvent("Event"),c?(e.initEvent(b,c.bubbles,c.cancelable),e.detail=c.detail):e.initEvent(b,!1,!1)),a.dispatchEvent(e)}G.prototype={add:function(a){0>this._names.indexOf(a)&&(this._names.push(a),this._node.setAttribute("class",this._names.join(" ")))},remove:function(a){var b=this._names.indexOf(a);b>=0&&(this._names.splice(b,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(a){return this._names.indexOf(a)>=0}};var V=[null];function W(a,b){this._groups=a,this._parents=b}function X(){return new W([[document.documentElement]],V)}function Y(a){return"string"==typeof a?new W([[document.querySelector(a)]],[document.documentElement]):new W([[a]],V)}W.prototype=X.prototype={constructor:W,select:function(a){"function"!=typeof a&&(a=k(a));for(var b=this._groups,c=b.length,d=Array(c),e=0;e<c;++e)for(var f,g,h=b[e],i=h.length,j=d[e]=Array(i),l=0;l<i;++l)(f=h[l])&&(g=a.call(f,f.__data__,l,h))&&("__data__"in f&&(g.__data__=f.__data__),j[l]=g);return new W(d,this._parents)},selectAll:function(a){if("function"==typeof a){var b;b=a,a=function(){var a;return a=b.apply(this,arguments),null==a?[]:Array.isArray(a)?a:Array.from(a)}}else a=m(a);for(var c=this._groups,d=c.length,e=[],f=[],g=0;g<d;++g)for(var h,i=c[g],j=i.length,k=0;k<j;++k)(h=i[k])&&(e.push(a.call(h,h.__data__,k,i)),f.push(h));return new W(e,f)},selectChild:function(a){var b;return this.select(null==a?q:(b="function"==typeof a?a:o(a),function(){return p.call(this.children,b)}))},selectChildren:function(a){var b;return this.selectAll(null==a?s:(b="function"==typeof a?a:o(a),function(){return r.call(this.children,b)}))},filter:function(a){"function"!=typeof a&&(a=n(a));for(var b=this._groups,c=b.length,d=Array(c),e=0;e<c;++e)for(var f,g=b[e],h=g.length,i=d[e]=[],j=0;j<h;++j)(f=g[j])&&a.call(f,f.__data__,j,g)&&i.push(f);return new W(d,this._parents)},data:function(a,b){if(!arguments.length)return Array.from(this,x);var c=b?w:v,d=this._parents,e=this._groups;"function"!=typeof a&&(s=a,a=function(){return s});for(var f=e.length,g=Array(f),h=Array(f),i=Array(f),j=0;j<f;++j){var k=d[j],l=e[j],m=l.length,n="object"==typeof(r=a.call(k,k&&k.__data__,j,d))&&"length"in r?r:Array.from(r),o=n.length,p=h[j]=Array(o),q=g[j]=Array(o);c(k,l,p,q,i[j]=Array(m),n,b);for(var r,s,t,u,y=0,z=0;y<o;++y)if(t=p[y]){for(y>=z&&(z=y+1);!(u=q[z])&&++z<o;);t._next=u||null}}return(g=new W(g,d))._enter=h,g._exit=i,g},enter:function(){return new W(this._enter||this._groups.map(t),this._parents)},exit:function(){return new W(this._exit||this._groups.map(t),this._parents)},join:function(a,b,c){var d=this.enter(),e=this,f=this.exit();return"function"==typeof a?(d=a(d))&&(d=d.selection()):d=d.append(a+""),null!=b&&(e=b(e))&&(e=e.selection()),null==c?f.remove():c(f),d&&e?d.merge(e).order():e},merge:function(a){for(var b=a.selection?a.selection():a,c=this._groups,d=b._groups,e=c.length,f=d.length,g=Math.min(e,f),h=Array(e),i=0;i<g;++i)for(var j,k=c[i],l=d[i],m=k.length,n=h[i]=Array(m),o=0;o<m;++o)(j=k[o]||l[o])&&(n[o]=j);for(;i<e;++i)h[i]=c[i];return new W(h,this._parents)},selection:function(){return this},order:function(){for(var a=this._groups,b=-1,c=a.length;++b<c;)for(var d,e=a[b],f=e.length-1,g=e[f];--f>=0;)(d=e[f])&&(g&&4^d.compareDocumentPosition(g)&&g.parentNode.insertBefore(d,g),g=d);return this},sort:function(a){function b(b,c){return b&&c?a(b.__data__,c.__data__):!b-!c}a||(a=y);for(var c=this._groups,d=c.length,e=Array(d),f=0;f<d;++f){for(var g,h=c[f],i=h.length,j=e[f]=Array(i),k=0;k<i;++k)(g=h[k])&&(j[k]=g);j.sort(b)}return new W(e,this._parents).order()},call:function(){var a=arguments[0];return arguments[0]=this,a.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var a=this._groups,b=0,c=a.length;b<c;++b)for(var d=a[b],e=0,f=d.length;e<f;++e){var g=d[e];if(g)return g}return null},size:function(){let a=0;for(let b of this)++a;return a},empty:function(){return!this.node()},each:function(a){for(var b=this._groups,c=0,d=b.length;c<d;++c)for(var e,f=b[c],g=0,h=f.length;g<h;++g)(e=f[g])&&a.call(e,e.__data__,g,f);return this},attr:function(a,b){var c=B(a);if(arguments.length<2){var d=this.node();return c.local?d.getAttributeNS(c.space,c.local):d.getAttribute(c)}return this.each((null==b?c.local?function(a){return function(){this.removeAttributeNS(a.space,a.local)}}:function(a){return function(){this.removeAttribute(a)}}:"function"==typeof b?c.local?function(a,b){return function(){var c=b.apply(this,arguments);null==c?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,c)}}:function(a,b){return function(){var c=b.apply(this,arguments);null==c?this.removeAttribute(a):this.setAttribute(a,c)}}:c.local?function(a,b){return function(){this.setAttributeNS(a.space,a.local,b)}}:function(a,b){return function(){this.setAttribute(a,b)}})(c,b))},style:function(a,b,c){return arguments.length>1?this.each((null==b?function(a){return function(){this.style.removeProperty(a)}}:"function"==typeof b?function(a,b,c){return function(){var d=b.apply(this,arguments);null==d?this.style.removeProperty(a):this.style.setProperty(a,d,c)}}:function(a,b,c){return function(){this.style.setProperty(a,b,c)}})(a,b,null==c?"":c)):D(this.node(),a)},property:function(a,b){return arguments.length>1?this.each((null==b?function(a){return function(){delete this[a]}}:"function"==typeof b?function(a,b){return function(){var c=b.apply(this,arguments);null==c?delete this[a]:this[a]=c}}:function(a,b){return function(){this[a]=b}})(a,b)):this.node()[a]},classed:function(a,b){var c=E(a+"");if(arguments.length<2){for(var d=F(this.node()),e=-1,f=c.length;++e<f;)if(!d.contains(c[e]))return!1;return!0}return this.each(("function"==typeof b?function(a,b){return function(){(b.apply(this,arguments)?H:I)(this,a)}}:b?function(a){return function(){H(this,a)}}:function(a){return function(){I(this,a)}})(c,b))},text:function(a){return arguments.length?this.each(null==a?J:("function"==typeof a?function(a){return function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}}:function(a){return function(){this.textContent=a}})(a)):this.node().textContent},html:function(a){return arguments.length?this.each(null==a?K:("function"==typeof a?function(a){return function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}}:function(a){return function(){this.innerHTML=a}})(a)):this.node().innerHTML},raise:function(){return this.each(L)},lower:function(){return this.each(M)},append:function(a){var b="function"==typeof a?a:N(a);return this.select(function(){return this.appendChild(b.apply(this,arguments))})},insert:function(a,b){var c="function"==typeof a?a:N(a),d=null==b?O:"function"==typeof b?b:k(b);return this.select(function(){return this.insertBefore(c.apply(this,arguments),d.apply(this,arguments)||null)})},remove:function(){return this.each(P)},clone:function(a){return this.select(a?R:Q)},datum:function(a){return arguments.length?this.property("__data__",a):this.node().__data__},on:function(a,b,c){var d,e,f=(a+"").trim().split(/^|\s+/).map(function(a){var b="",c=a.indexOf(".");return c>=0&&(b=a.slice(c+1),a=a.slice(0,c)),{type:a,name:b}}),g=f.length;if(arguments.length<2){var h=this.node().__on;if(h){for(var i,j=0,k=h.length;j<k;++j)for(d=0,i=h[j];d<g;++d)if((e=f[d]).type===i.type&&e.name===i.name)return i.value}return}for(d=0,h=b?T:S;d<g;++d)this.each(h(f[d],b,c));return this},dispatch:function(a,b){return this.each(("function"==typeof b?function(a,b){return function(){return U(this,a,b.apply(this,arguments))}}:function(a,b){return function(){return U(this,a,b)}})(a,b))},[Symbol.iterator]:function*(){for(var a=this._groups,b=0,c=a.length;b<c;++b)for(var d,e=a[b],f=0,g=e.length;f<g;++f)(d=e[f])&&(yield d)}};let Z={capture:!0,passive:!1};function $(a){a.preventDefault(),a.stopImmediatePropagation()}function _(a,b){if(a=function(a){let b;for(;b=a.sourceEvent;)a=b;return a}(a),void 0===b&&(b=a.currentTarget),b){var c=b.ownerSVGElement||b;if(c.createSVGPoint){var d=c.createSVGPoint();return d.x=a.clientX,d.y=a.clientY,[(d=d.matrixTransform(b.getScreenCTM().inverse())).x,d.y]}if(b.getBoundingClientRect){var e=b.getBoundingClientRect();return[a.clientX-e.left-b.clientLeft,a.clientY-e.top-b.clientTop]}}return[a.pageX,a.pageY]}a.i(447542);var aa,ab,ac=0,ad=0,ae=0,af=0,ag=0,ah=0,ai="object"==typeof performance&&performance.now?performance:Date,aj=function(a){setTimeout(a,17)};function ak(){return ag||(aj(al),ag=ai.now()+ah)}function al(){ag=0}function am(){this._call=this._time=this._next=null}function an(a,b,c){var d=new am;return d.restart(a,b,c),d}function ao(){ag=(af=ai.now())+ah,ac=ad=0;try{ak(),++ac;for(var a,b=aa;b;)(a=ag-b._time)>=0&&b._call.call(void 0,a),b=b._next;--ac}finally{ac=0,function(){for(var a,b,c=aa,d=1/0;c;)c._call?(d>c._time&&(d=c._time),a=c,c=c._next):(b=c._next,c._next=null,c=a?a._next=b:aa=b);ab=a,aq(d)}(),ag=0}}function ap(){var a=ai.now(),b=a-af;b>1e3&&(ah-=b,af=a)}function aq(a){!ac&&(ad&&(ad=clearTimeout(ad)),a-ag>24?(a<1/0&&(ad=setTimeout(ao,a-ai.now()-ah)),ae&&(ae=clearInterval(ae))):(ae||(af=ai.now(),ae=setInterval(ap,1e3)),ac=1,aj(ao)))}function ar(a,b,c){var d=new am;return b=null==b?0:+b,d.restart(c=>{d.stop(),a(c+b)},b,c),d}am.prototype=an.prototype={constructor:am,restart:function(a,b,c){if("function"!=typeof a)throw TypeError("callback is not a function");c=(null==c?ak():+c)+(null==b?0:+b),this._next||ab===this||(ab?ab._next=this:aa=this,ab=this),this._call=a,this._time=c,aq()},stop:function(){this._call&&(this._call=null,this._time=1/0,aq())}};var as=g("start","end","cancel","interrupt"),at=[];function au(a,b,c,d,e,f){var g=a.__transition;if(g){if(c in g)return}else a.__transition={};!function(a,b,c){var d,e=a.__transition;function f(i){var j,k,l,m;if(1!==c.state)return h();for(j in e)if((m=e[j]).name===c.name){if(3===m.state)return ar(f);4===m.state?(m.state=6,m.timer.stop(),m.on.call("interrupt",a,a.__data__,m.index,m.group),delete e[j]):+j<b&&(m.state=6,m.timer.stop(),m.on.call("cancel",a,a.__data__,m.index,m.group),delete e[j])}if(ar(function(){3===c.state&&(c.state=4,c.timer.restart(g,c.delay,c.time),g(i))}),c.state=2,c.on.call("start",a,a.__data__,c.index,c.group),2===c.state){for(j=0,c.state=3,d=Array(l=c.tween.length),k=-1;j<l;++j)(m=c.tween[j].value.call(a,a.__data__,c.index,c.group))&&(d[++k]=m);d.length=k+1}}function g(b){for(var e=b<c.duration?c.ease.call(null,b/c.duration):(c.timer.restart(h),c.state=5,1),f=-1,g=d.length;++f<g;)d[f].call(a,e);5===c.state&&(c.on.call("end",a,a.__data__,c.index,c.group),h())}function h(){for(var d in c.state=6,c.timer.stop(),delete e[b],e)return;delete a.__transition}e[b]=c,c.timer=an(function(a){c.state=1,c.timer.restart(f,c.delay,c.time),c.delay<=a&&f(a-c.delay)},0,c.time)}(a,c,{name:b,index:d,group:e,on:as,tween:at,time:f.time,delay:f.delay,duration:f.duration,ease:f.ease,timer:null,state:0})}function av(a,b){var c=ax(a,b);if(c.state>0)throw Error("too late; already scheduled");return c}function aw(a,b){var c=ax(a,b);if(c.state>3)throw Error("too late; already running");return c}function ax(a,b){var c=a.__transition;if(!c||!(c=c[b]))throw Error("transition not found");return c}function ay(a,b){var c,d,e,f=a.__transition,g=!0;if(f){for(e in b=null==b?null:b+"",f){if((c=f[e]).name!==b){g=!1;continue}d=c.state>2&&c.state<5,c.state=6,c.timer.stop(),c.on.call(d?"interrupt":"cancel",a,a.__data__,c.index,c.group),delete f[e]}g&&delete a.__transition}}var az=a.i(225581),aA=180/Math.PI,aB={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function aC(a,b,c,d,e,f){var g,h,i;return(g=Math.sqrt(a*a+b*b))&&(a/=g,b/=g),(i=a*c+b*d)&&(c-=a*i,d-=b*i),(h=Math.sqrt(c*c+d*d))&&(c/=h,d/=h,i/=h),a*d<b*c&&(a=-a,b=-b,i=-i,g=-g),{translateX:e,translateY:f,rotate:Math.atan2(b,a)*aA,skewX:Math.atan(i)*aA,scaleX:g,scaleY:h}}function aD(a,b,c,d){function e(a){return a.length?a.pop()+" ":""}return function(f,g){var h,i,j,k,l=[],m=[];return f=a(f),g=a(g),!function(a,d,e,f,g,h){if(a!==e||d!==f){var i=g.push("translate(",null,b,null,c);h.push({i:i-4,x:(0,az.default)(a,e)},{i:i-2,x:(0,az.default)(d,f)})}else(e||f)&&g.push("translate("+e+b+f+c)}(f.translateX,f.translateY,g.translateX,g.translateY,l,m),h=f.rotate,i=g.rotate,h!==i?(h-i>180?i+=360:i-h>180&&(h+=360),m.push({i:l.push(e(l)+"rotate(",null,d)-2,x:(0,az.default)(h,i)})):i&&l.push(e(l)+"rotate("+i+d),j=f.skewX,k=g.skewX,j!==k?m.push({i:l.push(e(l)+"skewX(",null,d)-2,x:(0,az.default)(j,k)}):k&&l.push(e(l)+"skewX("+k+d),!function(a,b,c,d,f,g){if(a!==c||b!==d){var h=f.push(e(f)+"scale(",null,",",null,")");g.push({i:h-4,x:(0,az.default)(a,c)},{i:h-2,x:(0,az.default)(b,d)})}else(1!==c||1!==d)&&f.push(e(f)+"scale("+c+","+d+")")}(f.scaleX,f.scaleY,g.scaleX,g.scaleY,l,m),f=g=null,function(a){for(var b,c=-1,d=m.length;++c<d;)l[(b=m[c]).i]=b.x(a);return l.join("")}}}var aE=aD(function(a){let b=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(a+"");return b.isIdentity?aB:aC(b.a,b.b,b.c,b.d,b.e,b.f)},"px, ","px)","deg)"),aF=aD(function(a){return null==a?aB:(b||(b=document.createElementNS("http://www.w3.org/2000/svg","g")),b.setAttribute("transform",a),a=b.transform.baseVal.consolidate())?aC((a=a.matrix).a,a.b,a.c,a.d,a.e,a.f):aB},", ",")",")");function aG(a,b,c){var d=a._id;return a.each(function(){var a=aw(this,d);(a.value||(a.value={}))[b]=c.apply(this,arguments)}),function(a){return ax(a,d).value[b]}}var aH=a.i(439776),aI=a.i(871131),aJ=a.i(519473),aJ=aJ,aK=a.i(738916),aK=aK;function aL(a,b){var c;return("number"==typeof b?aI.interpolateNumber:b instanceof aH.color?aJ.default:(c=(0,aH.color)(b))?(b=c,aJ.default):aK.default)(a,b)}var aM=X.prototype.constructor;function aN(a){return function(){this.style.removeProperty(a)}}var aO=0;function aP(a,b,c,d){this._groups=a,this._parents=b,this._name=c,this._id=d}var aQ=X.prototype;aP.prototype=(function(a){return X().transition(a)}).prototype={constructor:aP,select:function(a){var b=this._name,c=this._id;"function"!=typeof a&&(a=k(a));for(var d=this._groups,e=d.length,f=Array(e),g=0;g<e;++g)for(var h,i,j=d[g],l=j.length,m=f[g]=Array(l),n=0;n<l;++n)(h=j[n])&&(i=a.call(h,h.__data__,n,j))&&("__data__"in h&&(i.__data__=h.__data__),m[n]=i,au(m[n],b,c,n,m,ax(h,c)));return new aP(f,this._parents,b,c)},selectAll:function(a){var b=this._name,c=this._id;"function"!=typeof a&&(a=m(a));for(var d=this._groups,e=d.length,f=[],g=[],h=0;h<e;++h)for(var i,j=d[h],k=j.length,l=0;l<k;++l)if(i=j[l]){for(var n,o=a.call(i,i.__data__,l,j),p=ax(i,c),q=0,r=o.length;q<r;++q)(n=o[q])&&au(n,b,c,q,o,p);f.push(o),g.push(i)}return new aP(f,g,b,c)},selectChild:aQ.selectChild,selectChildren:aQ.selectChildren,filter:function(a){"function"!=typeof a&&(a=n(a));for(var b=this._groups,c=b.length,d=Array(c),e=0;e<c;++e)for(var f,g=b[e],h=g.length,i=d[e]=[],j=0;j<h;++j)(f=g[j])&&a.call(f,f.__data__,j,g)&&i.push(f);return new aP(d,this._parents,this._name,this._id)},merge:function(a){if(a._id!==this._id)throw Error();for(var b=this._groups,c=a._groups,d=b.length,e=c.length,f=Math.min(d,e),g=Array(d),h=0;h<f;++h)for(var i,j=b[h],k=c[h],l=j.length,m=g[h]=Array(l),n=0;n<l;++n)(i=j[n]||k[n])&&(m[n]=i);for(;h<d;++h)g[h]=b[h];return new aP(g,this._parents,this._name,this._id)},selection:function(){return new aM(this._groups,this._parents)},transition:function(){for(var a=this._name,b=this._id,c=++aO,d=this._groups,e=d.length,f=0;f<e;++f)for(var g,h=d[f],i=h.length,j=0;j<i;++j)if(g=h[j]){var k=ax(g,b);au(g,a,c,j,h,{time:k.time+k.delay+k.duration,delay:0,duration:k.duration,ease:k.ease})}return new aP(d,this._parents,a,c)},call:aQ.call,nodes:aQ.nodes,node:aQ.node,size:aQ.size,empty:aQ.empty,each:aQ.each,on:function(a,b){var c,d,e,f,g,h,i=this._id;return arguments.length<2?ax(this.node(),i).on.on(a):this.each((c=i,d=a,e=b,h=(d+"").trim().split(/^|\s+/).every(function(a){var b=a.indexOf(".");return b>=0&&(a=a.slice(0,b)),!a||"start"===a})?av:aw,function(){var a=h(this,c),b=a.on;b!==f&&(g=(f=b).copy()).on(d,e),a.on=g}))},attr:function(a,b){var c=B(a),d="transform"===c?aF:aL;return this.attrTween(a,"function"==typeof b?(c.local?function(a,b,c){var d,e,f;return function(){var g,h,i=c(this);return null==i?void this.removeAttributeNS(a.space,a.local):(g=this.getAttributeNS(a.space,a.local))===(h=i+"")?null:g===d&&h===e?f:(e=h,f=b(d=g,i))}}:function(a,b,c){var d,e,f;return function(){var g,h,i=c(this);return null==i?void this.removeAttribute(a):(g=this.getAttribute(a))===(h=i+"")?null:g===d&&h===e?f:(e=h,f=b(d=g,i))}})(c,d,aG(this,"attr."+a,b)):null==b?(c.local?function(a){return function(){this.removeAttributeNS(a.space,a.local)}}:function(a){return function(){this.removeAttribute(a)}})(c):(c.local?function(a,b,c){var d,e,f=c+"";return function(){var g=this.getAttributeNS(a.space,a.local);return g===f?null:g===d?e:e=b(d=g,c)}}:function(a,b,c){var d,e,f=c+"";return function(){var g=this.getAttribute(a);return g===f?null:g===d?e:e=b(d=g,c)}})(c,d,b))},attrTween:function(a,b){var c="attr."+a;if(arguments.length<2)return(c=this.tween(c))&&c._value;if(null==b)return this.tween(c,null);if("function"!=typeof b)throw Error();var d=B(a);return this.tween(c,(d.local?function(a,b){var c,d;function e(){var e=b.apply(this,arguments);return e!==d&&(c=(d=e)&&function(b){this.setAttributeNS(a.space,a.local,e.call(this,b))}),c}return e._value=b,e}:function(a,b){var c,d;function e(){var e=b.apply(this,arguments);return e!==d&&(c=(d=e)&&function(b){this.setAttribute(a,e.call(this,b))}),c}return e._value=b,e})(d,b))},style:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y="transform"==(a+="")?aE:aL;return null==b?this.styleTween(a,(d=a,function(){var a=D(this,d),b=(this.style.removeProperty(d),D(this,d));return a===b?null:a===e&&b===f?g:g=y(e=a,f=b)})).on("end.style."+a,aN(a)):"function"==typeof b?this.styleTween(a,(h=a,i=aG(this,"style."+a,b),function(){var a=D(this,h),b=i(this),c=b+"";return null==b&&(this.style.removeProperty(h),c=b=D(this,h)),a===c?null:a===j&&c===k?l:(k=c,l=y(j=a,b))})).each((m=this._id,t="end."+(s="style."+(n=a)),function(){var a=aw(this,m),b=a.on,c=null==a.value[s]?r||(r=aN(n)):void 0;(b!==o||q!==c)&&(p=(o=b).copy()).on(t,q=c),a.on=p})):this.styleTween(a,(u=a,x=b+"",function(){var a=D(this,u);return a===x?null:a===v?w:w=y(v=a,b)}),c).on("end.style."+a,null)},styleTween:function(a,b,c){var d="style."+(a+="");if(arguments.length<2)return(d=this.tween(d))&&d._value;if(null==b)return this.tween(d,null);if("function"!=typeof b)throw Error();return this.tween(d,function(a,b,c){var d,e;function f(){var f=b.apply(this,arguments);return f!==e&&(d=(e=f)&&function(b){this.style.setProperty(a,f.call(this,b),c)}),d}return f._value=b,f}(a,b,null==c?"":c))},text:function(a){var b,c;return this.tween("text","function"==typeof a?(b=aG(this,"text",a),function(){var a=b(this);this.textContent=null==a?"":a}):(c=null==a?"":a+"",function(){this.textContent=c}))},textTween:function(a){var b="text";if(arguments.length<1)return(b=this.tween(b))&&b._value;if(null==a)return this.tween(b,null);if("function"!=typeof a)throw Error();return this.tween(b,function(a){var b,c;function d(){var d=a.apply(this,arguments);return d!==c&&(b=(c=d)&&function(a){this.textContent=d.call(this,a)}),b}return d._value=a,d}(a))},remove:function(){var a;return this.on("end.remove",(a=this._id,function(){var b=this.parentNode;for(var c in this.__transition)if(+c!==a)return;b&&b.removeChild(this)}))},tween:function(a,b){var c=this._id;if(a+="",arguments.length<2){for(var d,e=ax(this.node(),c).tween,f=0,g=e.length;f<g;++f)if((d=e[f]).name===a)return d.value;return null}return this.each((null==b?function(a,b){var c,d;return function(){var e=aw(this,a),f=e.tween;if(f!==c){d=c=f;for(var g=0,h=d.length;g<h;++g)if(d[g].name===b){(d=d.slice()).splice(g,1);break}}e.tween=d}}:function(a,b,c){var d,e;if("function"!=typeof c)throw Error();return function(){var f=aw(this,a),g=f.tween;if(g!==d){e=(d=g).slice();for(var h={name:b,value:c},i=0,j=e.length;i<j;++i)if(e[i].name===b){e[i]=h;break}i===j&&e.push(h)}f.tween=e}})(c,a,b))},delay:function(a){var b=this._id;return arguments.length?this.each(("function"==typeof a?function(a,b){return function(){av(this,a).delay=+b.apply(this,arguments)}}:function(a,b){return b*=1,function(){av(this,a).delay=b}})(b,a)):ax(this.node(),b).delay},duration:function(a){var b=this._id;return arguments.length?this.each(("function"==typeof a?function(a,b){return function(){aw(this,a).duration=+b.apply(this,arguments)}}:function(a,b){return b*=1,function(){aw(this,a).duration=b}})(b,a)):ax(this.node(),b).duration},ease:function(a){var b=this._id;return arguments.length?this.each(function(a,b){if("function"!=typeof b)throw Error();return function(){aw(this,a).ease=b}}(b,a)):ax(this.node(),b).ease},easeVarying:function(a){var b;if("function"!=typeof a)throw Error();return this.each((b=this._id,function(){var c=a.apply(this,arguments);if("function"!=typeof c)throw Error();aw(this,b).ease=c}))},end:function(){var a,b,c=this,d=c._id,e=c.size();return new Promise(function(f,g){var h={value:g},i={value:function(){0==--e&&f()}};c.each(function(){var c=aw(this,d),e=c.on;e!==a&&((b=(a=e).copy())._.cancel.push(h),b._.interrupt.push(h),b._.end.push(i)),c.on=b}),0===e&&f()})},[Symbol.iterator]:aQ[Symbol.iterator]};var aR={time:null,delay:0,duration:250,ease:function(a){return((a*=2)<=1?a*a*a:(a-=2)*a*a+2)/2}};X.prototype.interrupt=function(a){return this.each(function(){ay(this,a)})},X.prototype.transition=function(a){var b,c;a instanceof aP?(b=a._id,a=a._name):(b=++aO,(c=aR).time=ak(),a=null==a?null:a+"");for(var d=this._groups,e=d.length,f=0;f<e;++f)for(var g,h=d[f],i=h.length,j=0;j<i;++j)(g=h[j])&&au(g,a,b,j,h,c||function(a,b){for(var c;!(c=a.__transition)||!(c=c[b]);)if(!(a=a.parentNode))throw Error(`transition ${b} not found`);return c}(g,b));return new aP(d,this._parents,a,b)};let{abs:aS,max:aT,min:aU}=Math;function aV(a){return{type:a}}function aW(a){return((a=Math.exp(a))+1/a)/2}["w","e"].map(aV),["n","s"].map(aV),["n","w","e","s","nw","ne","sw","se"].map(aV),a.s([],960754);let aX=function a(b,c,d){function e(a,e){var f,g,h=a[0],i=a[1],j=a[2],k=e[0],l=e[1],m=e[2],n=k-h,o=l-i,p=n*n+o*o;if(p<1e-12)g=Math.log(m/j)/b,f=function(a){return[h+a*n,i+a*o,j*Math.exp(b*a*g)]};else{var q=Math.sqrt(p),r=(m*m-j*j+d*p)/(2*j*c*q),s=(m*m-j*j-d*p)/(2*m*c*q),t=Math.log(Math.sqrt(r*r+1)-r);g=(Math.log(Math.sqrt(s*s+1)-s)-t)/b,f=function(a){var d,e,f=a*g,k=aW(t),l=j/(c*q)*(k*(((d=Math.exp(2*(d=b*f+t)))-1)/(d+1))-((e=Math.exp(e=t))-1/e)/2);return[h+l*n,i+l*o,j*k/aW(b*f+t)]}}return f.duration=1e3*g*b/Math.SQRT2,f}return e.rho=function(b){var c=Math.max(.001,+b),d=c*c;return a(c,d,d*d)},e}(Math.SQRT2,2,4),aY=a=>()=>a;function aZ(a,{sourceEvent:b,target:c,transform:d,dispatch:e}){Object.defineProperties(this,{type:{value:a,enumerable:!0,configurable:!0},sourceEvent:{value:b,enumerable:!0,configurable:!0},target:{value:c,enumerable:!0,configurable:!0},transform:{value:d,enumerable:!0,configurable:!0},_:{value:e}})}function a$(a,b,c){this.k=a,this.x=b,this.y=c}a$.prototype={constructor:a$,scale:function(a){return 1===a?this:new a$(this.k*a,this.x,this.y)},translate:function(a,b){return 0===a&0===b?this:new a$(this.k,this.x+this.k*a,this.y+this.k*b)},apply:function(a){return[a[0]*this.k+this.x,a[1]*this.k+this.y]},applyX:function(a){return a*this.k+this.x},applyY:function(a){return a*this.k+this.y},invert:function(a){return[(a[0]-this.x)/this.k,(a[1]-this.y)/this.k]},invertX:function(a){return(a-this.x)/this.k},invertY:function(a){return(a-this.y)/this.k},rescaleX:function(a){return a.copy().domain(a.range().map(this.invertX,this).map(a.invert,a))},rescaleY:function(a){return a.copy().domain(a.range().map(this.invertY,this).map(a.invert,a))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var a_=new a$(1,0,0);function a0(a){a.stopImmediatePropagation()}function a1(a){a.preventDefault(),a.stopImmediatePropagation()}function a2(a){return(!a.ctrlKey||"wheel"===a.type)&&!a.button}function a3(){var a=this;return a instanceof SVGElement?(a=a.ownerSVGElement||a).hasAttribute("viewBox")?[[(a=a.viewBox.baseVal).x,a.y],[a.x+a.width,a.y+a.height]]:[[0,0],[a.width.baseVal.value,a.height.baseVal.value]]:[[0,0],[a.clientWidth,a.clientHeight]]}function a4(){return this.__zoom||a_}function a5(a){return-a.deltaY*(1===a.deltaMode?.05:a.deltaMode?1:.002)*(a.ctrlKey?10:1)}function a6(){return navigator.maxTouchPoints||"ontouchstart"in this}function a7(a,b,c){var d=a.invertX(b[0][0])-c[0][0],e=a.invertX(b[1][0])-c[1][0],f=a.invertY(b[0][1])-c[0][1],g=a.invertY(b[1][1])-c[1][1];return a.translate(e>d?(d+e)/2:Math.min(0,d)||Math.max(0,e),g>f?(f+g)/2:Math.min(0,f)||Math.max(0,g))}function a8(a){return a.x}function a9(a){return a.y}a$.prototype;var ba=Math.PI*(3-Math.sqrt(5));function bb(a){return function(){return a}}function bc(a){return(a()-.5)*1e-6}function bd(a){return a.index}function be(a,b){var c=a.get(b);if(!c)throw Error("node not found: "+b);return c}function bf(a,b,c,d){if(isNaN(b)||isNaN(c))return a;var e,f,g,h,i,j,k,l,m,n=a._root,o={data:d},p=a._x0,q=a._y0,r=a._x1,s=a._y1;if(!n)return a._root=o,a;for(;n.length;)if((j=b>=(f=(p+r)/2))?p=f:r=f,(k=c>=(g=(q+s)/2))?q=g:s=g,e=n,!(n=n[l=k<<1|j]))return e[l]=o,a;if(h=+a._x.call(null,n.data),i=+a._y.call(null,n.data),b===h&&c===i)return o.next=n,e?e[l]=o:a._root=o,a;do e=e?e[l]=[,,,,]:a._root=[,,,,],(j=b>=(f=(p+r)/2))?p=f:r=f,(k=c>=(g=(q+s)/2))?q=g:s=g;while((l=k<<1|j)==(m=(i>=g)<<1|h>=f))return e[m]=n,e[l]=o,a}function bg(a,b,c,d,e){this.node=a,this.x0=b,this.y0=c,this.x1=d,this.y1=e}function bh(a){return a[0]}function bi(a){return a[1]}function bj(a,b,c){var d=new bk(null==b?bh:b,null==c?bi:c,NaN,NaN,NaN,NaN);return null==a?d:d.addAll(a)}function bk(a,b,c,d,e,f){this._x=a,this._y=b,this._x0=c,this._y0=d,this._x1=e,this._y1=f,this._root=void 0}function bl(a){for(var b={data:a.data},c=b;a=a.next;)c=c.next={data:a.data};return b}var bm=bj.prototype=bk.prototype;function bn(a){return a.x+a.vx}function bo(a){return a.y+a.vy}function bp({data:a,onNodeClick:b}){let e=(0,d.useRef)(null);return((0,d.useEffect)(()=>{if(!e.current||!a.people.length)return;let c=Y(e.current);c.selectAll("*").remove();let d=[...a.people.map(a=>({id:a.id,name:a.name,company:a.company,type:"person",strength:a.strength,relationship:a.relationship})),...a.companies.map(a=>({id:a.id,name:a.name,type:"company",count:a.count}))],f=a.people.filter(a=>a.company).map(b=>({source:b.id,target:a.companies.find(a=>a.name===b.company)?.id||b.company})).filter(a=>a.target),h=(function(a){let b;var c,d=1,e=.001,f=1-Math.pow(.001,1/300),h=0,i=.6,j=new Map,k=an(n),l=g("tick","end"),m=(b=1,()=>(b=(1664525*b+0x3c6ef35f)%0x100000000)/0x100000000);function n(){o(),l.call("tick",c),d<e&&(k.stop(),l.call("end",c))}function o(b){var e,g,k=a.length;void 0===b&&(b=1);for(var l=0;l<b;++l)for(d+=(h-d)*f,j.forEach(function(a){a(d)}),e=0;e<k;++e)null==(g=a[e]).fx?g.x+=g.vx*=i:(g.x=g.fx,g.vx=0),null==g.fy?g.y+=g.vy*=i:(g.y=g.fy,g.vy=0);return c}function p(){for(var b,c=0,d=a.length;c<d;++c){if((b=a[c]).index=c,null!=b.fx&&(b.x=b.fx),null!=b.fy&&(b.y=b.fy),isNaN(b.x)||isNaN(b.y)){var e=10*Math.sqrt(.5+c),f=c*ba;b.x=e*Math.cos(f),b.y=e*Math.sin(f)}(isNaN(b.vx)||isNaN(b.vy))&&(b.vx=b.vy=0)}}function q(b){return b.initialize&&b.initialize(a,m),b}return null==a&&(a=[]),p(),c={tick:o,restart:function(){return k.restart(n),c},stop:function(){return k.stop(),c},nodes:function(b){return arguments.length?(a=b,p(),j.forEach(q),c):a},alpha:function(a){return arguments.length?(d=+a,c):d},alphaMin:function(a){return arguments.length?(e=+a,c):e},alphaDecay:function(a){return arguments.length?(f=+a,c):+f},alphaTarget:function(a){return arguments.length?(h=+a,c):h},velocityDecay:function(a){return arguments.length?(i=1-a,c):1-i},randomSource:function(a){return arguments.length?(m=a,j.forEach(q),c):m},force:function(a,b){return arguments.length>1?(null==b?j.delete(a):j.set(a,q(b)),c):j.get(a)},find:function(b,c,d){var e,f,g,h,i,j=0,k=a.length;for(null==d?d=1/0:d*=d,j=0;j<k;++j)(g=(e=b-(h=a[j]).x)*e+(f=c-h.y)*f)<d&&(i=h,d=g);return i},on:function(a,b){return arguments.length>1?(l.on(a,b),c):l.on(a)}}})(d).force("link",(function(a){var b,c,d,e,f,g,h=bd,i=function(a){return 1/Math.min(e[a.source.index],e[a.target.index])},j=bb(30),k=1;function l(d){for(var e=0,h=a.length;e<k;++e)for(var i,j,l,m,n,o,p,q=0;q<h;++q)j=(i=a[q]).source,o=((o=Math.sqrt((m=(l=i.target).x+l.vx-j.x-j.vx||bc(g))*m+(n=l.y+l.vy-j.y-j.vy||bc(g))*n))-c[q])/o*d*b[q],m*=o,n*=o,l.vx-=m*(p=f[q]),l.vy-=n*p,j.vx+=m*(p=1-p),j.vy+=n*p}function m(){if(d){var g,i,j=d.length,k=a.length,l=new Map(d.map((a,b)=>[h(a,b,d),a]));for(g=0,e=Array(j);g<k;++g)(i=a[g]).index=g,"object"!=typeof i.source&&(i.source=be(l,i.source)),"object"!=typeof i.target&&(i.target=be(l,i.target)),e[i.source.index]=(e[i.source.index]||0)+1,e[i.target.index]=(e[i.target.index]||0)+1;for(g=0,f=Array(k);g<k;++g)i=a[g],f[g]=e[i.source.index]/(e[i.source.index]+e[i.target.index]);b=Array(k),n(),c=Array(k),o()}}function n(){if(d)for(var c=0,e=a.length;c<e;++c)b[c]=+i(a[c],c,a)}function o(){if(d)for(var b=0,e=a.length;b<e;++b)c[b]=+j(a[b],b,a)}return null==a&&(a=[]),l.initialize=function(a,b){d=a,g=b,m()},l.links=function(b){return arguments.length?(a=b,m(),l):a},l.id=function(a){return arguments.length?(h=a,l):h},l.iterations=function(a){return arguments.length?(k=+a,l):k},l.strength=function(a){return arguments.length?(i="function"==typeof a?a:bb(+a),n(),l):i},l.distance=function(a){return arguments.length?(j="function"==typeof a?a:bb(+a),o(),l):j},l})(f).id(a=>a.id).distance(100)).force("charge",(function(){var a,b,c,d,e,f=bb(-30),g=1,h=1/0,i=.81;function j(c){var e,f=a.length,g=bj(a,a8,a9).visitAfter(l);for(d=c,e=0;e<f;++e)b=a[e],g.visit(m)}function k(){if(a){var b,c,d=a.length;for(b=0,e=Array(d);b<d;++b)e[(c=a[b]).index]=+f(c,b,a)}}function l(a){var b,c,d,f,g,h=0,i=0;if(a.length){for(d=f=g=0;g<4;++g)(b=a[g])&&(c=Math.abs(b.value))&&(h+=b.value,i+=c,d+=c*b.x,f+=c*b.y);a.x=d/i,a.y=f/i}else{(b=a).x=b.data.x,b.y=b.data.y;do h+=e[b.data.index];while(b=b.next)}a.value=h}function m(a,f,j,k){if(!a.value)return!0;var l=a.x-b.x,m=a.y-b.y,n=k-f,o=l*l+m*m;if(n*n/i<o)return o<h&&(0===l&&(o+=(l=bc(c))*l),0===m&&(o+=(m=bc(c))*m),o<g&&(o=Math.sqrt(g*o)),b.vx+=l*a.value*d/o,b.vy+=m*a.value*d/o),!0;if(!a.length&&!(o>=h)){(a.data!==b||a.next)&&(0===l&&(o+=(l=bc(c))*l),0===m&&(o+=(m=bc(c))*m),o<g&&(o=Math.sqrt(g*o)));do a.data!==b&&(n=e[a.data.index]*d/o,b.vx+=l*n,b.vy+=m*n);while(a=a.next)}}return j.initialize=function(b,d){a=b,c=d,k()},j.strength=function(a){return arguments.length?(f="function"==typeof a?a:bb(+a),k(),j):f},j.distanceMin=function(a){return arguments.length?(g=a*a,j):Math.sqrt(g)},j.distanceMax=function(a){return arguments.length?(h=a*a,j):Math.sqrt(h)},j.theta=function(a){return arguments.length?(i=a*a,j):Math.sqrt(i)},j})().strength(-300)).force("center",function(a,b){var c,d=1;function e(){var e,f,g=c.length,h=0,i=0;for(e=0;e<g;++e)h+=(f=c[e]).x,i+=f.y;for(h=(h/g-a)*d,i=(i/g-b)*d,e=0;e<g;++e)f=c[e],f.x-=h,f.y-=i}return null==a&&(a=0),null==b&&(b=0),e.initialize=function(a){c=a},e.x=function(b){return arguments.length?(a=+b,e):a},e.y=function(a){return arguments.length?(b=+a,e):b},e.strength=function(a){return arguments.length?(d=+a,e):d},e}(400,300)).force("collision",(function(a){var b,c,d,e=1,f=1;function g(){for(var a,g,i,j,k,l,m,n=b.length,o=0;o<f;++o)for(a=0,g=bj(b,bn,bo).visitAfter(h);a<n;++a)m=(l=c[(i=b[a]).index])*l,j=i.x+i.vx,k=i.y+i.vy,g.visit(p);function p(a,b,c,f,g){var h=a.data,n=a.r,o=l+n;if(h){if(h.index>i.index){var p=j-h.x-h.vx,q=k-h.y-h.vy,r=p*p+q*q;r<o*o&&(0===p&&(r+=(p=bc(d))*p),0===q&&(r+=(q=bc(d))*q),r=(o-(r=Math.sqrt(r)))/r*e,i.vx+=(p*=r)*(o=(n*=n)/(m+n)),i.vy+=(q*=r)*o,h.vx-=p*(o=1-o),h.vy-=q*o)}return}return b>j+o||f<j-o||c>k+o||g<k-o}}function h(a){if(a.data)return a.r=c[a.data.index];for(var b=a.r=0;b<4;++b)a[b]&&a[b].r>a.r&&(a.r=a[b].r)}function i(){if(b){var d,e,f=b.length;for(d=0,c=Array(f);d<f;++d)c[(e=b[d]).index]=+a(e,d,b)}}return"function"!=typeof a&&(a=bb(null==a?1:+a)),g.initialize=function(a,c){b=a,d=c,i()},g.iterations=function(a){return arguments.length?(f=+a,g):f},g.strength=function(a){return arguments.length?(e=+a,g):e},g.radius=function(b){return arguments.length?(a="function"==typeof b?b:bb(+b),i(),g):a},g})().radius(30)),i=c.attr("width",800).attr("height",600).append("g"),j=i.append("g").attr("class","links").selectAll("line").data(f).enter().append("line").attr("stroke","#999").attr("stroke-opacity",.6).attr("stroke-width",2),k=i.append("g").attr("class","nodes").selectAll("g").data(d).enter().append("g").attr("cursor","pointer").on("click",(a,c)=>{b&&b(c)});k.append("circle").attr("r",a=>"person"===a.type?8+2*a.strength:12).attr("fill",a=>"person"===a.type?"#3b82f6":"#10b981").attr("stroke","#fff").attr("stroke-width",2),k.append("text").attr("dx",15).attr("dy",4).attr("font-size","12px").attr("font-family","Arial, sans-serif").text(a=>a.name).style("pointer-events","none"),k.filter(a=>"person"===a.type&&a.relationship).append("text").attr("dx",15).attr("dy",18).attr("font-size","10px").attr("font-family","Arial, sans-serif").attr("fill","#666").text(a=>a.relationship).style("pointer-events","none"),h.on("tick",()=>{j.attr("x1",a=>a.source.x).attr("y1",a=>a.source.y).attr("x2",a=>a.target.x).attr("y2",a=>a.target.y),k.attr("transform",a=>`translate(${a.x},${a.y})`)});let l=(function(){var a,b,c,d=a2,e=a3,f=a7,h=a5,i=a6,j=[0,1/0],k=[[-1/0,-1/0],[1/0,1/0]],l=250,m=aX,n=g("start","zoom","end"),o=0,p=10;function q(a){a.property("__zoom",a4).on("wheel.zoom",x,{passive:!1}).on("mousedown.zoom",y).on("dblclick.zoom",z).filter(i).on("touchstart.zoom",A).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",C).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function r(a,b){return(b=Math.max(j[0],Math.min(j[1],b)))===a.k?a:new a$(b,a.x,a.y)}function s(a,b,c){var d=b[0]-c[0]*a.k,e=b[1]-c[1]*a.k;return d===a.x&&e===a.y?a:new a$(a.k,d,e)}function t(a){return[(+a[0][0]+ +a[1][0])/2,(+a[0][1]+ +a[1][1])/2]}function u(a,b,c,d){a.on("start.zoom",function(){v(this,arguments).event(d).start()}).on("interrupt.zoom end.zoom",function(){v(this,arguments).event(d).end()}).tween("zoom",function(){var a=arguments,f=v(this,a).event(d),g=e.apply(this,a),h=null==c?t(g):"function"==typeof c?c.apply(this,a):c,i=Math.max(g[1][0]-g[0][0],g[1][1]-g[0][1]),j=this.__zoom,k="function"==typeof b?b.apply(this,a):b,l=m(j.invert(h).concat(i/j.k),k.invert(h).concat(i/k.k));return function(a){if(1===a)a=k;else{var b=l(a),c=i/b[2];a=new a$(c,h[0]-b[0]*c,h[1]-b[1]*c)}f.zoom(null,a)}})}function v(a,b,c){return!c&&a.__zooming||new w(a,b)}function w(a,b){this.that=a,this.args=b,this.active=0,this.sourceEvent=null,this.extent=e.apply(a,b),this.taps=0}function x(a,...b){if(d.apply(this,arguments)){var c=v(this,b).event(a),e=this.__zoom,g=Math.max(j[0],Math.min(j[1],e.k*Math.pow(2,h.apply(this,arguments)))),i=_(a);if(c.wheel)(c.mouse[0][0]!==i[0]||c.mouse[0][1]!==i[1])&&(c.mouse[1]=e.invert(c.mouse[0]=i)),clearTimeout(c.wheel);else{if(e.k===g)return;c.mouse=[i,e.invert(i)],ay(this),c.start()}a1(a),c.wheel=setTimeout(function(){c.wheel=null,c.end()},150),c.zoom("mouse",f(s(r(e,g),c.mouse[0],c.mouse[1]),c.extent,k))}}function y(a,...b){if(!c&&d.apply(this,arguments)){var e,g,h,i=a.currentTarget,j=v(this,b,!0).event(a),l=Y(a.view).on("mousemove.zoom",function(a){if(a1(a),!j.moved){var b=a.clientX-n,c=a.clientY-p;j.moved=b*b+c*c>o}j.event(a).zoom("mouse",f(s(j.that.__zoom,j.mouse[0]=_(a,i),j.mouse[1]),j.extent,k))},!0).on("mouseup.zoom",function(a){var b,c,d,e;l.on("mousemove.zoom mouseup.zoom",null),b=a.view,c=j.moved,d=b.document.documentElement,e=Y(b).on("dragstart.drag",null),c&&(e.on("click.drag",$,Z),setTimeout(function(){e.on("click.drag",null)},0)),"onselectstart"in d?e.on("selectstart.drag",null):(d.style.MozUserSelect=d.__noselect,delete d.__noselect),a1(a),j.event(a).end()},!0),m=_(a,i),n=a.clientX,p=a.clientY;g=(e=a.view).document.documentElement,h=Y(e).on("dragstart.drag",$,Z),"onselectstart"in g?h.on("selectstart.drag",$,Z):(g.__noselect=g.style.MozUserSelect,g.style.MozUserSelect="none"),a0(a),j.mouse=[m,this.__zoom.invert(m)],ay(this),j.start()}}function z(a,...b){if(d.apply(this,arguments)){var c=this.__zoom,g=_(a.changedTouches?a.changedTouches[0]:a,this),h=c.invert(g),i=c.k*(a.shiftKey?.5:2),j=f(s(r(c,i),g,h),e.apply(this,b),k);a1(a),l>0?Y(this).transition().duration(l).call(u,j,g,a):Y(this).call(q.transform,j,g,a)}}function A(c,...e){if(d.apply(this,arguments)){var f,g,h,i,j=c.touches,k=j.length,l=v(this,e,c.changedTouches.length===k).event(c);for(a0(c),g=0;g<k;++g)i=[i=_(h=j[g],this),this.__zoom.invert(i),h.identifier],l.touch0?l.touch1||l.touch0[2]===i[2]||(l.touch1=i,l.taps=0):(l.touch0=i,f=!0,l.taps=1+!!a);a&&(a=clearTimeout(a)),f&&(l.taps<2&&(b=i[0],a=setTimeout(function(){a=null},500)),ay(this),l.start())}}function B(a,...b){if(this.__zooming){var c,d,e,g,h=v(this,b).event(a),i=a.changedTouches,j=i.length;for(a1(a),c=0;c<j;++c)e=_(d=i[c],this),h.touch0&&h.touch0[2]===d.identifier?h.touch0[0]=e:h.touch1&&h.touch1[2]===d.identifier&&(h.touch1[0]=e);if(d=h.that.__zoom,h.touch1){var l=h.touch0[0],m=h.touch0[1],n=h.touch1[0],o=h.touch1[1],p=(p=n[0]-l[0])*p+(p=n[1]-l[1])*p,q=(q=o[0]-m[0])*q+(q=o[1]-m[1])*q;d=r(d,Math.sqrt(p/q)),e=[(l[0]+n[0])/2,(l[1]+n[1])/2],g=[(m[0]+o[0])/2,(m[1]+o[1])/2]}else{if(!h.touch0)return;e=h.touch0[0],g=h.touch0[1]}h.zoom("touch",f(s(d,e,g),h.extent,k))}}function C(a,...d){if(this.__zooming){var e,f,g=v(this,d).event(a),h=a.changedTouches,i=h.length;for(a0(a),c&&clearTimeout(c),c=setTimeout(function(){c=null},500),e=0;e<i;++e)f=h[e],g.touch0&&g.touch0[2]===f.identifier?delete g.touch0:g.touch1&&g.touch1[2]===f.identifier&&delete g.touch1;if(g.touch1&&!g.touch0&&(g.touch0=g.touch1,delete g.touch1),g.touch0)g.touch0[1]=this.__zoom.invert(g.touch0[0]);else if(g.end(),2===g.taps&&(f=_(f,this),Math.hypot(b[0]-f[0],b[1]-f[1])<p)){var j=Y(this).on("dblclick.zoom");j&&j.apply(this,arguments)}}}return q.transform=function(a,b,c,d){var e=a.selection?a.selection():a;e.property("__zoom",a4),a!==e?u(a,b,c,d):e.interrupt().each(function(){v(this,arguments).event(d).start().zoom(null,"function"==typeof b?b.apply(this,arguments):b).end()})},q.scaleBy=function(a,b,c,d){q.scaleTo(a,function(){var a=this.__zoom.k,c="function"==typeof b?b.apply(this,arguments):b;return a*c},c,d)},q.scaleTo=function(a,b,c,d){q.transform(a,function(){var a=e.apply(this,arguments),d=this.__zoom,g=null==c?t(a):"function"==typeof c?c.apply(this,arguments):c,h=d.invert(g),i="function"==typeof b?b.apply(this,arguments):b;return f(s(r(d,i),g,h),a,k)},c,d)},q.translateBy=function(a,b,c,d){q.transform(a,function(){return f(this.__zoom.translate("function"==typeof b?b.apply(this,arguments):b,"function"==typeof c?c.apply(this,arguments):c),e.apply(this,arguments),k)},null,d)},q.translateTo=function(a,b,c,d,g){q.transform(a,function(){var a=e.apply(this,arguments),g=this.__zoom,h=null==d?t(a):"function"==typeof d?d.apply(this,arguments):d;return f(a_.translate(h[0],h[1]).scale(g.k).translate("function"==typeof b?-b.apply(this,arguments):-b,"function"==typeof c?-c.apply(this,arguments):-c),a,k)},d,g)},w.prototype={event:function(a){return a&&(this.sourceEvent=a),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(a,b){return this.mouse&&"mouse"!==a&&(this.mouse[1]=b.invert(this.mouse[0])),this.touch0&&"touch"!==a&&(this.touch0[1]=b.invert(this.touch0[0])),this.touch1&&"touch"!==a&&(this.touch1[1]=b.invert(this.touch1[0])),this.that.__zoom=b,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(a){var b=Y(this.that).datum();n.call(a,this.that,new aZ(a,{sourceEvent:this.sourceEvent,target:q,type:a,transform:this.that.__zoom,dispatch:n}),b)}},q.wheelDelta=function(a){return arguments.length?(h="function"==typeof a?a:aY(+a),q):h},q.filter=function(a){return arguments.length?(d="function"==typeof a?a:aY(!!a),q):d},q.touchable=function(a){return arguments.length?(i="function"==typeof a?a:aY(!!a),q):i},q.extent=function(a){return arguments.length?(e="function"==typeof a?a:aY([[+a[0][0],+a[0][1]],[+a[1][0],+a[1][1]]]),q):e},q.scaleExtent=function(a){return arguments.length?(j[0]=+a[0],j[1]=+a[1],q):[j[0],j[1]]},q.translateExtent=function(a){return arguments.length?(k[0][0]=+a[0][0],k[1][0]=+a[1][0],k[0][1]=+a[0][1],k[1][1]=+a[1][1],q):[[k[0][0],k[0][1]],[k[1][0],k[1][1]]]},q.constrain=function(a){return arguments.length?(f=a,q):f},q.duration=function(a){return arguments.length?(l=+a,q):l},q.interpolate=function(a){return arguments.length?(m=a,q):m},q.on=function(){var a=n.on.apply(n,arguments);return a===n?q:a},q.clickDistance=function(a){return arguments.length?(o=(a*=1)*a,q):Math.sqrt(o)},q.tapDistance=function(a){return arguments.length?(p=+a,q):p},q})().scaleExtent([.1,4]).on("zoom",a=>{i.attr("transform",a.transform)});return c.call(l),()=>{h.stop()}},[a,b]),a.people.length)?(0,c.jsxs)("div",{className:"w-full",children:[(0,c.jsxs)("div",{className:"mb-4 flex items-center gap-4 text-sm text-gray-600",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),(0,c.jsxs)("span",{children:["People (",a.people.length,")"]})]}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),(0,c.jsxs)("span",{children:["Companies (",a.companies.length,")"]})]})]}),(0,c.jsx)("svg",{ref:e,className:"border rounded-lg bg-white"})]}):(0,c.jsx)("div",{className:"flex items-center justify-center h-96 bg-gray-50 rounded-lg",children:(0,c.jsx)("p",{className:"text-gray-500",children:"No referral data available. Import a CSV to get started."})})}function bq(){let[a,b]=(0,d.useState)({gmail:!1,calendar:!1}),[f,g]=(0,d.useState)({people:[],companies:[]}),[h,i]=(0,d.useState)({gmail:!1,calendar:!1,test:!1,import:!1}),[j,k]=(0,d.useState)(null),[l,m]=(0,d.useState)(""),[n,o]=(0,d.useState)(null),[p,q]=(0,d.useState)(!1);(0,d.useEffect)(()=>{r(),s()},[]);let r=async()=>{try{let a=((await e.http.get("/api/referrals/list")).data.referrals||[]).map(a=>({id:a.id,name:a.person_name,company:a.company,role:a.role,relationship:a.relationship,strength:a.strength})),b=new Map;a.forEach(a=>{if(a.company){let c=b.get(a.company)||{id:a.company,name:a.company,count:0};c.count++,b.set(a.company,c)}}),g({people:a,companies:Array.from(b.values())})}catch(a){console.error("Failed to load referrals:",a)}},s=async()=>{b({gmail:!1,calendar:!1})},t=async()=>{i(a=>({...a,gmail:!0}));try{let a=await e.http.get("/api/integrations/google/start?scope=gmail");window.open(a.data.authUrl,"_blank")}catch(a){console.error("Failed to start Gmail OAuth:",a)}finally{i(a=>({...a,gmail:!1}))}},u=async()=>{i(a=>({...a,calendar:!0}));try{let a=await e.http.get("/api/integrations/google/start?scope=calendar");window.open(a.data.authUrl,"_blank")}catch(a){console.error("Failed to start Calendar OAuth:",a)}finally{i(a=>({...a,calendar:!1}))}},v=async()=>{i(a=>({...a,test:!0}));try{await e.http.post("/api/push/draft",{to:"test@example.com",subject:"Test Draft",body:"This is a test email draft."}),alert("Test draft created successfully!")}catch(a){console.error("Failed to create test draft:",a),alert("Failed to create test draft")}finally{i(a=>({...a,test:!1}))}},w=async()=>{i(a=>({...a,test:!0}));try{let a=new Date;a.setDate(a.getDate()+1),a.setHours(10,0,0,0),await e.http.post("/api/push/calendar",{title:"Test Follow-up",datetimeISO:a.toISOString(),notes:"This is a test calendar event."}),alert("Test event scheduled successfully!")}catch(a){console.error("Failed to schedule test event:",a),alert("Failed to schedule test event")}finally{i(a=>({...a,test:!1}))}},x=async a=>{let b=a.target.files?.[0];if(b){i(a=>({...a,import:!0}));try{let a=new FormData;a.append("file",b);let c=await fetch("/api/referrals/import",{method:"POST",body:a}),d=await c.json();d.success?(alert(`Successfully imported ${d.imported} referrals`),r()):alert(`Import failed: ${d.error}`)}catch(a){console.error("Failed to import referrals:",a),alert("Failed to import referrals")}finally{i(a=>({...a,import:!1}))}}},y=async()=>{if(l){q(!0);try{let a=await e.http.post("/api/ats/inspect",{jdUrl:l});o(a.data)}catch(a){console.error("Failed to inspect ATS:",a),alert("Failed to inspect ATS")}finally{q(!1)}}},z=async()=>{if(!j||"person"!==j.type)return;let a=prompt("Enter company name:"),b=prompt("Enter role:"),c=prompt("Enter recruiter email (optional):");if(a&&b)try{let d=await e.http.post("/api/referrals/intro",{referralId:j.id,company:a,role:b,recruiterEmail:c||void 0});alert(`Intro draft created:

Subject: ${d.data.subject}

Body: ${d.data.body}`)}catch(a){console.error("Failed to create intro draft:",a),alert("Failed to create intro draft")}};return(0,c.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,c.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,c.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Integrations"}),(0,c.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,c.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Connections"}),(0,c.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,c.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"font-medium",children:"Gmail"}),(0,c.jsx)("p",{className:"text-sm text-gray-600",children:"Send email drafts"})]}),(0,c.jsx)("div",{className:`px-3 py-1 rounded-full text-sm ${a.gmail?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:a.gmail?"Connected":"Not Connected"})]}),(0,c.jsx)("button",{onClick:t,disabled:h.gmail||a.gmail,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:h.gmail?"Connecting...":a.gmail?"Connected":"Connect Gmail"})]}),(0,c.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"font-medium",children:"Google Calendar"}),(0,c.jsx)("p",{className:"text-sm text-gray-600",children:"Schedule follow-ups"})]}),(0,c.jsx)("div",{className:`px-3 py-1 rounded-full text-sm ${a.calendar?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:a.calendar?"Connected":"Not Connected"})]}),(0,c.jsx)("button",{onClick:u,disabled:h.calendar||a.calendar,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:h.calendar?"Connecting...":a.calendar?"Connected":"Connect Calendar"})]})]}),(0,c.jsxs)("div",{className:"mt-6 pt-6 border-t",children:[(0,c.jsx)("h3",{className:"font-medium mb-4",children:"Test Actions"}),(0,c.jsxs)("div",{className:"flex gap-4",children:[(0,c.jsx)("button",{onClick:v,disabled:h.test,className:"bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 disabled:opacity-50",children:h.test?"Testing...":"Test Email Draft"}),(0,c.jsx)("button",{onClick:w,disabled:h.test,className:"bg-purple-600 text-white py-2 px-4 rounded-md hover:bg-purple-700 disabled:opacity-50",children:h.test?"Testing...":"Test Calendar Event"})]})]})]}),(0,c.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,c.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Referral Network"}),(0,c.jsxs)("div",{className:"mb-6",children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Import Referrals (CSV)"}),(0,c.jsx)("input",{type:"file",accept:".csv",onChange:x,disabled:h.import,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,c.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"CSV format: person_name, email, company, role, relationship, strength, notes"})]}),(0,c.jsx)(bp,{data:f,onNodeClick:a=>{k(a)}}),j&&(0,c.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[(0,c.jsxs)("h3",{className:"font-medium mb-2",children:["Selected: ",j.name]}),(0,c.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:["person"===j.type?"Person":"Company","  ",j.company||"No company"]}),"person"===j.type&&(0,c.jsx)("button",{onClick:z,className:"bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700",children:"Draft Introduction"})]})]}),(0,c.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,c.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Quick Actions"}),(0,c.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"font-medium mb-2",children:"Draft Recruiter Email"}),(0,c.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Create a draft email with your latest tailored resume links"}),(0,c.jsx)("button",{onClick:()=>{let a=prompt("Recruiter email:"),b=prompt("Subject:");a&&b&&e.http.post("/api/push/draft",{to:a,subject:b,body:"Hi,\n\nI hope this email finds you well. I am writing to express my interest in the position and have attached my tailored resume for your review.\n\nBest regards,\n[Your Name]"}).then(()=>alert("Draft created!")).catch(()=>alert("Failed to create draft"))},className:"bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700",children:"Create Draft"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"font-medium mb-2",children:"Schedule Follow-up"}),(0,c.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Schedule a follow-up reminder in 3 days"}),(0,c.jsx)("button",{onClick:()=>{let a=prompt("Event title:");if(a){let b=new Date;b.setDate(b.getDate()+3),b.setHours(10,0,0,0),e.http.post("/api/push/calendar",{title:a,datetimeISO:b.toISOString(),notes:"Follow-up reminder for job application"}).then(()=>alert("Follow-up scheduled!")).catch(()=>alert("Failed to schedule follow-up"))}},className:"bg-purple-600 text-white py-2 px-4 rounded-md hover:bg-purple-700",children:"Schedule Follow-up"})]})]})]}),(0,c.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,c.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"ATS Helper"}),(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Job Description URL"}),(0,c.jsxs)("div",{className:"flex gap-2",children:[(0,c.jsx)("input",{type:"url",value:l,onChange:a=>m(a.target.value),placeholder:"https://example.com/job-posting",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,c.jsx)("button",{onClick:y,disabled:p||!l,className:"bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:opacity-50",children:p?"Analyzing...":"Analyze"})]})]}),n&&(0,c.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,c.jsx)("h3",{className:"font-medium mb-2",children:"ATS Analysis"}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{children:"Platform:"})," ",n.ats]}),(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{children:"Apply URL:"})," ",(0,c.jsx)("a",{href:n.applyUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:n.applyUrl})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("strong",{children:"Checklist:"}),(0,c.jsx)("ul",{className:"mt-1 list-disc list-inside text-sm",children:n.checklist.map((a,b)=>(0,c.jsx)("li",{children:a},b))})]})]})]})]})]})]})})}bm.copy=function(){var a,b,c=new bk(this._x,this._y,this._x0,this._y0,this._x1,this._y1),d=this._root;if(!d)return c;if(!d.length)return c._root=bl(d),c;for(a=[{source:d,target:c._root=[,,,,]}];d=a.pop();)for(var e=0;e<4;++e)(b=d.source[e])&&(b.length?a.push({source:b,target:d.target[e]=[,,,,]}):d.target[e]=bl(b));return c},bm.add=function(a){let b=+this._x.call(null,a),c=+this._y.call(null,a);return bf(this.cover(b,c),b,c,a)},bm.addAll=function(a){var b,c,d,e,f=a.length,g=Array(f),h=Array(f),i=1/0,j=1/0,k=-1/0,l=-1/0;for(c=0;c<f;++c)!(isNaN(d=+this._x.call(null,b=a[c]))||isNaN(e=+this._y.call(null,b)))&&(g[c]=d,h[c]=e,d<i&&(i=d),d>k&&(k=d),e<j&&(j=e),e>l&&(l=e));if(i>k||j>l)return this;for(this.cover(i,j).cover(k,l),c=0;c<f;++c)bf(this,g[c],h[c],a[c]);return this},bm.cover=function(a,b){if(isNaN(a*=1)||isNaN(b*=1))return this;var c=this._x0,d=this._y0,e=this._x1,f=this._y1;if(isNaN(c))e=(c=Math.floor(a))+1,f=(d=Math.floor(b))+1;else{for(var g,h,i=e-c||1,j=this._root;c>a||a>=e||d>b||b>=f;)switch(h=(b<d)<<1|a<c,(g=[,,,,])[h]=j,j=g,i*=2,h){case 0:e=c+i,f=d+i;break;case 1:c=e-i,f=d+i;break;case 2:e=c+i,d=f-i;break;case 3:c=e-i,d=f-i}this._root&&this._root.length&&(this._root=j)}return this._x0=c,this._y0=d,this._x1=e,this._y1=f,this},bm.data=function(){var a=[];return this.visit(function(b){if(!b.length)do a.push(b.data);while(b=b.next)}),a},bm.extent=function(a){return arguments.length?this.cover(+a[0][0],+a[0][1]).cover(+a[1][0],+a[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},bm.find=function(a,b,c){var d,e,f,g,h,i,j,k=this._x0,l=this._y0,m=this._x1,n=this._y1,o=[],p=this._root;for(p&&o.push(new bg(p,k,l,m,n)),null==c?c=1/0:(k=a-c,l=b-c,m=a+c,n=b+c,c*=c);i=o.pop();)if((p=i.node)&&!((e=i.x0)>m)&&!((f=i.y0)>n)&&!((g=i.x1)<k)&&!((h=i.y1)<l))if(p.length){var q=(e+g)/2,r=(f+h)/2;o.push(new bg(p[3],q,r,g,h),new bg(p[2],e,r,q,h),new bg(p[1],q,f,g,r),new bg(p[0],e,f,q,r)),(j=(b>=r)<<1|a>=q)&&(i=o[o.length-1],o[o.length-1]=o[o.length-1-j],o[o.length-1-j]=i)}else{var s=a-this._x.call(null,p.data),t=b-this._y.call(null,p.data),u=s*s+t*t;if(u<c){var v=Math.sqrt(c=u);k=a-v,l=b-v,m=a+v,n=b+v,d=p.data}}return d},bm.remove=function(a){if(isNaN(f=+this._x.call(null,a))||isNaN(g=+this._y.call(null,a)))return this;var b,c,d,e,f,g,h,i,j,k,l,m,n=this._root,o=this._x0,p=this._y0,q=this._x1,r=this._y1;if(!n)return this;if(n.length)for(;;){if((j=f>=(h=(o+q)/2))?o=h:q=h,(k=g>=(i=(p+r)/2))?p=i:r=i,b=n,!(n=n[l=k<<1|j]))return this;if(!n.length)break;(b[l+1&3]||b[l+2&3]||b[l+3&3])&&(c=b,m=l)}for(;n.data!==a;)if(d=n,!(n=n.next))return this;return((e=n.next)&&delete n.next,d)?e?d.next=e:delete d.next:b?(e?b[l]=e:delete b[l],(n=b[0]||b[1]||b[2]||b[3])&&n===(b[3]||b[2]||b[1]||b[0])&&!n.length&&(c?c[m]=n:this._root=n)):this._root=e,this},bm.removeAll=function(a){for(var b=0,c=a.length;b<c;++b)this.remove(a[b]);return this},bm.root=function(){return this._root},bm.size=function(){var a=0;return this.visit(function(b){if(!b.length)do++a;while(b=b.next)}),a},bm.visit=function(a){var b,c,d,e,f,g,h=[],i=this._root;for(i&&h.push(new bg(i,this._x0,this._y0,this._x1,this._y1));b=h.pop();)if(!a(i=b.node,d=b.x0,e=b.y0,f=b.x1,g=b.y1)&&i.length){var j=(d+f)/2,k=(e+g)/2;(c=i[3])&&h.push(new bg(c,j,k,f,g)),(c=i[2])&&h.push(new bg(c,d,k,j,g)),(c=i[1])&&h.push(new bg(c,j,e,f,k)),(c=i[0])&&h.push(new bg(c,d,e,j,k))}return this},bm.visitAfter=function(a){var b,c=[],d=[];for(this._root&&c.push(new bg(this._root,this._x0,this._y0,this._x1,this._y1));b=c.pop();){var e=b.node;if(e.length){var f,g=b.x0,h=b.y0,i=b.x1,j=b.y1,k=(g+i)/2,l=(h+j)/2;(f=e[0])&&c.push(new bg(f,g,h,k,l)),(f=e[1])&&c.push(new bg(f,k,h,i,l)),(f=e[2])&&c.push(new bg(f,g,l,k,j)),(f=e[3])&&c.push(new bg(f,k,l,i,j))}d.push(b)}for(;b=d.pop();)a(b.node,b.x0,b.y0,b.x1,b.y1);return this},bm.x=function(a){return arguments.length?(this._x=a,this):this._x},bm.y=function(a){return arguments.length?(this._y=a,this):this._y},a.i(960754)}];

//# sourceMappingURL=src_app_copilot_integrations_page_tsx_6eec3a96._.js.map