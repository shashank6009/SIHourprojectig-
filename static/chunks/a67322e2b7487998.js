(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,773258,e=>{"use strict";async function t(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{method:a="GET",headers:s={},body:r}=t,l={method:a,headers:{"Content-Type":"application/json",...s}};r&&"GET"!==a&&(l.body=JSON.stringify(r));let d=await fetch(e,l);if(!d.ok)throw Error("HTTP ".concat(d.status,": ").concat(d.statusText));return d.json()}e.s(["http",()=>a]);let a={get:(e,a)=>t(e,{method:"GET",headers:a}),post:(e,a,s)=>t(e,{method:"POST",headers:s,body:a}),put:(e,a,s)=>t(e,{method:"PUT",headers:s,body:a}),delete:(e,a)=>t(e,{method:"DELETE",headers:a})}},440160,e=>{"use strict";e.s(["Download",()=>t],440160);let t=(0,e.i(475254).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},283086,e=>{"use strict";e.s(["Sparkles",()=>t],283086);let t=(0,e.i(475254).default)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]])},842009,e=>{"use strict";e.s(["Award",()=>t],842009);let t=(0,e.i(475254).default)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},32095,e=>{"use strict";e.s(["GraduationCap",()=>t],32095);let t=(0,e.i(475254).default)("graduation-cap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]])},284614,e=>{"use strict";e.s(["User",()=>t],284614);let t=(0,e.i(475254).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},63727,e=>{"use strict";e.s(["Briefcase",()=>t],63727);let t=(0,e.i(475254).default)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]])},972520,e=>{"use strict";e.s(["ArrowRight",()=>t],972520);let t=(0,e.i(475254).default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},5453,e=>{"use strict";e.s(["default",()=>r]);var t=e.i(843476),a=e.i(271645),s=e.i(773258);function r(e){let{versionId:r,isMentorMode:l=!1}=e,[d,o]=(0,a.useState)([]),[c,n]=(0,a.useState)(!0),[i,m]=(0,a.useState)(""),[u,h]=(0,a.useState)(l?"Mentor":""),[p,x]=(0,a.useState)(""),[b,y]=(0,a.useState)();(0,a.useEffect)(()=>{g()},[r]);let g=async()=>{try{let e=await s.http.get("/api/feedback/comment?resumeVersionId=".concat(r));o(e.data.comments||[])}catch(e){console.error("Failed to fetch comments:",e)}finally{n(!1)}},f=async()=>{if(i.trim()&&u.trim())try{await s.http.post("/api/feedback/comment",{resumeVersionId:r,blockId:p||void 0,lineRef:b,author:u,text:i}),m(""),x(""),y(void 0),g()}catch(e){console.error("Failed to add comment:",e)}},v=async(e,t)=>{try{await s.http.patch("/api/feedback/comment",{id:e,resolved:t}),g()}catch(e){console.error("Failed to update comment:",e)}},j=d.reduce((e,t)=>{let a=t.blockId||"general";return e[a]||(e[a]=[]),e[a].push(t),e},{});return c?(0,t.jsx)("div",{className:"w-80 bg-gray-50 p-4 border-l",children:(0,t.jsxs)("div",{className:"animate-pulse",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded"})]})}):(0,t.jsxs)("div",{className:"w-80 bg-gray-50 p-4 border-l max-h-screen overflow-y-auto",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Comments & Feedback"}),(0,t.jsxs)("div",{className:"mb-6 p-4 bg-white rounded-lg border",children:[(0,t.jsx)("h4",{className:"font-medium mb-3",children:"Add Comment"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Author"}),(0,t.jsx)("input",{type:"text",value:u,onChange:e=>h(e.target.value),placeholder:"Your name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Block ID (optional)"}),(0,t.jsx)("input",{type:"text",value:p,onChange:e=>x(e.target.value),placeholder:"block-1",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Line Reference (optional)"}),(0,t.jsx)("input",{type:"number",value:b||"",onChange:e=>y(e.target.value?parseInt(e.target.value):void 0),placeholder:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Comment"}),(0,t.jsx)("textarea",{value:i,onChange:e=>m(e.target.value),placeholder:"Add your feedback...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsx)("button",{onClick:f,disabled:!i.trim()||!u.trim(),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add Comment"})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[Object.entries(j).map(e=>{let[a,s]=e;return(0,t.jsxs)("div",{className:"bg-white rounded-lg border p-3",children:[(0,t.jsx)("h4",{className:"font-medium text-sm text-gray-600 mb-2",children:"general"===a?"General Comments":"Block: ".concat(a)}),(0,t.jsx)("div",{className:"space-y-3",children:s.map(e=>(0,t.jsxs)("div",{className:"p-3 rounded-md border-l-4 ".concat(e.resolved?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"),children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("span",{className:"font-medium text-gray-800",children:e.author}),(0,t.jsx)("span",{className:"text-gray-500 ml-2",children:new Date(e.createdAt).toLocaleDateString()}),e.lineRef&&(0,t.jsxs)("span",{className:"text-gray-500 ml-2",children:["Line ",e.lineRef]})]}),(0,t.jsx)("button",{onClick:()=>v(e.id,!e.resolved),className:"text-xs px-2 py-1 rounded ".concat(e.resolved?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.resolved?"Resolved":"Mark Resolved"})]}),(0,t.jsx)("p",{className:"text-sm text-gray-700",children:e.text})]},e.id))})]},a)}),0===d.length&&(0,t.jsxs)("div",{className:"text-center text-gray-500 py-8",children:[(0,t.jsx)("p",{children:"No comments yet."}),(0,t.jsx)("p",{className:"text-sm",children:"Add the first comment above."})]})]})]})}},849481,e=>{e.v(t=>Promise.all(["static/chunks/7f9385d77b3baabb.js"].map(t=>e.l(t))).then(()=>t(59935)))}]);